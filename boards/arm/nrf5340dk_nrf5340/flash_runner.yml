# Flash network CPU before other cores as a --recover operation on the network
# core will erase both cores.
board_flash_priority:
  - nrf5340dk_nrf5340_cpunet
  - nrf5340dk_nrf5340_cpuapp
  - nrf5340dk_nrf5340_cpuapp_ns
# Recovery is only needed once per core.
board_single_commands:
  - --recover: [
      nrf5340dk_nrf5340_cpunet,
    ]
  - --recover: [
      nrf5340dk_nrf5340_cpuapp,
      nrf5340dk_nrf5340_cpuapp_ns,
    ]
# Prevent resetting the cores whilst flashing multiple images until all images
# for each core have been flashed, this allows security bits to be set during
# programming without them interfering with additional flashing processes.
board_delay_reset:
  - [
      nrf5340dk_nrf5340_cpuapp,
      nrf5340dk_nrf5340_cpuapp_ns,
    ]
  - [
      nrf5340dk_nrf5340_cpunet,
    ]
