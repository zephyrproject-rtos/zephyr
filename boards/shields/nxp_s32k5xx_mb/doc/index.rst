.. _nxp_s32k5xx_mb:

NXP S32K5XX-MB Shield
#####################

Overview
********

This Zephyr shield (NXP S32K5XX motherboard) increases the I/O connectivity available to the for :zephyr:board:`s32k5xxcvb` board.

GPIO Pin Matrix
***************

Refer to the table below for the mapping between the Jxxx symbols in the schematic and the GPIO pin matrix in the board layout.

+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
|    | 1     | 2     | 3     | 4     | 5     | 6     | 7     | 8     | 9     | 10    |
+====+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+
| A  |       |       |       |       |       |       | J207  | J173  | J139  | J447  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| B  |       |       |       |       |       |       | J208  | J174  | J140  | J105  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| C  | J404  | J370  | J338  | J305  | J273  | J241  | J209  | J175  | J141  | J106  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| D  | J405  | J371  | J339  | J306  | J274  | J242  | J210  | J176  | J142  | J107  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| E  | J406  | J372  | J340  | J307  | J275  | J243  | J211  | J177  | J143  | J108  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| F  | J407  | J373  | J341  | J308  | J276  | J244  | J212  | J178  | J144  | J109  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| G  | J408  | J374  | J342  | J309  | J277  | J245  | J213  | J179  | J145  | J110  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| H  | J409  | J375  | J343  | J310  | J278  | J246  | J214  | J180  | J146  | J111  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| I  | J410  | J376  | J344  | J311  | J279  | J247  | J215  | J181  | J147  | J112  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| J  | J411  | J377  | J345  | J312  | J280  | J248  | J216  | J182  | J148  | J113  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| K  | J412  | J378  | J346  | J313  | J281  | J249  | J217  | J183  | J149  | J114  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| L  | J413  | J379  | J347  | J314  | J282  | J250  | J218  | J184  | J150  | J115  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| M  | J414  | J380  | J348  | J315  | J283  | J251  | J219  | J185  | J151  | J116  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| N  | J415  | J381  | J349  | J316  | J284  | J252  | J220  | J186  | J152  | J117  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| O  | J416  | J382  | J350  | J317  | J285  | J253  | J221  | J187  | J153  | J118  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| P  | J417  | J383  | J351  | J318  | J286  | J254  | J222  | J188  | J154  | J119  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| Q  | J418  | J384  | J352  | J319  | J287  | J255  | J223  | J189  | J155  | J120  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| R  | J419  | J385  | J353  | J320  | J288  | J256  | J224  | J190  | J156  | J121  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| S  | J420  | J386  | J354  | J321  | J289  | J257  | J225  | J191  | J157  | J122  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| T  | J421  | J387  | J355  | J322  | J290  | J258  | J226  | J192  | J158  | J123  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| U  | J422  | J388  | J356  | J323  | J291  | J259  | J227  | J193  | J159  | J124  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| V  | J423  | J389  | J357  | J324  | J292  | J260  | J228  | J194  | J160  | J125  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| W  | J424  | J390  | J358  | J325  | J293  | J261  | J229  | J195  | J161  | J126  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| X  | J425  | J391  | J359  | J326  | J294  | J262  | J230  | J196  | J162  | J127  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| Y  | J426  | J392  | J360  | J327  | J295  | J263  | J231  | J197  | J163  | J128  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| Z  | J427  | J393  | J361  | J328  | J296  | J264  | J232  | J198  | J164  | J129  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| AA | J428  | J394  | J362  | J329  | J297  | J265  | J233  | J199  | J165  | J130  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| AB | J429  | J395  | J363  | J330  | J298  | J266  | J234  | J200  | J166  | J131  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| AC | J430  | J396  | J364  | J331  | J299  | J267  | J235  | J201  | J167  | J132  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| AD | J431  | J397  | J365  | J332  | J300  | J268  | J236  | J202  | J168  | J133  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| AE | J432  | J398  | J366  | J333  | J301  | J269  | J237  | J203  | J169  | J134  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| AF | J433  | J399  | J367  | J334  | J302  | J270  | J238  | J204  | J170  | J135  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| AG | J434  | J400  | J368  | J335  | J303  | J271  | J239  | J205  | J171  | J136  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| AH | J435  | J401  | J369  | J336  | J304  | J272  | J240  | J206  | J172  | J137  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
| AI | J437  | J438  | J439  | J440  | J441  | J442  | J443  | J444  | J445  | J446  |
+----+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+

Set-up the Board
================

First, make sure the motherboard is properly connected to :zephyr:board:`s32k5xxcvb` board.

A USB to serial converter (e.g., CH340) is required to visualize the serial output, connect it to the board as shown below:


+---------------------+------------------+
| CH340 Converter Pin | GPIO Pin Matrix  |
+=====================+==================+
| TXD                 | O5               |
+---------------------+------------------+
| RXD                 | P5               |
+---------------------+------------------+
| GND                 | AI10             |
+---------------------+------------------+


Run your favorite terminal program to listen for output. For example, using the cross-platform `pySerial miniterm`_ terminal:

.. code-block:: console

   python -m serial.tools.miniterm <port> 115200

Replace ``<port>`` with the port where the board can be found. For example,
under Linux, ``/dev/ttyUSB0``.

Programming
***********

Below are the supported shields to be used with ``--shield <option>`` when you invoke
``west build``.

- ``nxp_s32k5xx_mb``

For example:

.. zephyr-app-commands::
   :zephyr-app: samples/hello_world
   :board: s32k5xxcvb/s32k566/m7
   :shield: nxp_s32k5xx_mb
   :goals: build flash

You should see the following message in the terminal:

.. code-block:: console

   Hello World! s32k5xxcvb/s32k566/m7

References
**********

.. target-notes::

.. _pySerial miniterm:
   https://pyserial.readthedocs.io/en/latest/tools.html#module-serial.tools.miniterm
