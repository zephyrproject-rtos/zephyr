# Kconfig - Shell configuration options

#
# Copyright (c) 2014-2015 Wind River Systems, Inc.
# Copyright (c) 2016 Intel Corporation
#
# SPDX-License-Identifier: Apache-2.0
#


config CONSOLE_SHELL
	bool "Enable console input handler [ Experimental ]"
	select CONSOLE_HANDLER
	select CONSOLE_SUBSYS
	help
	  Shell implementation based on CONSOLE_HANDLER.


if CONSOLE_SHELL

config CONSOLE_SHELL_STACKSIZE
	int "Console handler shell stack size"
	default 2000
	help
	  Stack size for the console handler shell.

config CONSOLE_SHELL_MAX_CMD_QUEUED
	int "Shell's command queue size"
	default 3
	help
	  Maximum size of the queue for input commands.

source "subsys/shell/modules/Kconfig"

endif

config SHELL
	bool "Enable shell"
	select LOG_RUNTIME_FILTERING
	select POLL

if SHELL

module = SHELL
module-str = Shell
source "subsys/logging/Kconfig.template.log_config"

config SHELL_STACK_SIZE
	int "Shell thread stack size"
	default 1024 if MULTITHREADING
	default 0 if !MULTITHREADING
	help
	  Stack size for thread created for each instance.

config SHELL_THREAD_PRIO
	int "Shell thread priority"
	depends on MULTITHREADING
	default -2
	help
	  Shell thread priority.

config SHELL_BACKSPACE_MODE_DELETE
	bool "Default escape code for backspace is DELETE (0x7F)"
	default y
	help
	  Terminals have different escape code settings for backspace button.
	  Some terminals send code: 0x08 (backspace) other 0x7F (delete). When
	  this option is set shell will expect 0x7F for backspace key.

config SHELL_CMD_BUFF_SIZE
	int "Shell command buffer size"
	default 256
	help
	  Maximum command size.

config SHELL_PRINTF_BUFF_SIZE
	int "Shell print buffer size"
	default 30
	help
	  Maximum text buffer size for fprintf function.
	  It is working like stdio buffering in Linux systems
	  to limit number of peripheral access calls.

config SHELL_ARGC_MAX
	int "Maximum arguments in shell command"
	default 12
	help
	  Maximum number of arguments that can build a command.
	  If command is composed of more than defined, argument SHELL_ARGC_MAX
	  and following are passed as one argument in the string.

config SHELL_ECHO_STATUS
	bool "Enable echo on shell"
	default y
	help
	  If enabled shell prints back every input byte.

config SHELL_VT100_COLORS
	bool "Enable colors in shell"
	default y
	help
	  If enabled VT100 colors are used in shell (e.g. print errors in red).

config SHELL_METAKEYS
	bool "Enable metakeys"
	default y
	help
	  Enables shell metakeys: Home, End, ctrl+a, ctrl+c, ctrl+e, ctrl+l,
	  ctrl+u, ctrl+w

config SHELL_HELP
	bool "Enable help message"
	default y
	help
	  Enables formatting help message when requested with '-h' or '--help'.

config SHELL_HELP_ON_WRONG_ARGUMENT_COUNT
	bool "Enable printing help on wrong argument count"
	default y

config SHELL_HISTORY
	bool "Enable history in shell"
	default y
	help
	  Enable commands history. History can be accessed using up and down
	  arrows

if SHELL_HISTORY

config SHELL_HISTORY_BUFFER
	int "History buffer in bytes"
	default 1024
	help
	  Number of bytes dedicated for storing executed commands.

endif #SHELL_HISTORY

endif #SHELL
