/*
 * Copyright 2026 Cirrus Logic, Inc.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

#ifndef ZEPHYR_INCLUDE_CODEC_CS35L56_H_
#define ZEPHYR_INCLUDE_CODEC_CS35L56_H_

#define CS35L56_SW_RESET_DEVID_REG     0x0
#define CS35L56_SW_RESET_REVID_REG     0x4
#define CS35L56_SW_RESET_SFT_RESET_REG 0x20

#define CS35L56_DSP_VIRTUAL1_MBOX_1 0x11020

#define CS35L56_HALO_STATE 0x2803D20

#define CS35L56_BLOCK_ENABLES2     0x0201C
#define CS35L56_ASP_EN             BIT(27)

#define CS35L56_ASP1_ENABLES1 0x04800
#define CS35L56_ASP1_RX3_EN   BIT(18)
#define CS35L56_ASP1_RX2_EN   BIT(17)
#define CS35L56_ASP1_RX1_EN   BIT(16)
#define CS35L56_ASP1_TX4_EN   BIT(3)
#define CS35L56_ASP1_TX3_EN   BIT(2)
#define CS35L56_ASP1_TX2_EN   BIT(1)
#define CS35L56_ASP1_TX1_EN   BIT(0)

#define CS35L56_ASP1_CONTROL1 0x04804
#define CS35L56_ASP_BCLK_FREQ_OFFSET 0xC

#define CS35L56_ASP1_CONTROL2   0x04808
#define CS35L56_ASP1_RX_WIDTH   GENMASK(31, 24)
#define CS35L56_ASP1_TX_WIDTH   GENMASK(23, 16)
#define CS35L56_ASP1_WIDTH      (CS35L56_ASP1_RX_WIDTH | CS35L56_ASP1_TX_WIDTH)
#define CS35L56_ASP1_WIDTH_MAX  0x80
#define CS35L56_ASP1_WIDTH_MIN  0xc
#define CS35L56_ASP1_FMT_MASK   GENMASK(10, 8)
#define CS35L56_ASP1_FMT_DSPA   0x0
#define CS35L56_ASP1_FMT_I2S    0x2
#define CS35L56_ASP1_FMT_TDM15  0x4
#define CS35L56_BCLK_FSYNC_MASK GENMASK(6, 0)
#define CS35L56_ASP1_BCLK_INV   BIT(6)
#define CS35L56_ASP1_FSYNC_INV  BIT(2)

#define CS35L56_ASP1_FRAME_CONTROL1 0x4810
#define CS35L56_ASP1_TX1            1
#define CS35L56_ASP1_TX2            2
#define CS35L56_ASP1_TX3            3
#define CS35L56_ASP1_TX4            4
#define CS35L56_ASP1_TX1_SLOT       GENMASK(5, 0)
#define CS35L56_ASP1_TX2_SLOT       GENMASK(13, 8)
#define CS35L56_ASP1_TX2_SHIFT      8
#define CS35L56_ASP1_TX3_SLOT       GENMASK(21, 16)
#define CS35L56_ASP1_TX3_SHIFT      16
#define CS35L56_ASP1_TX4_SLOT       GENMASK(29, 24)
#define CS35L56_ASP1_TX4_SHIFT      24

#define CS35L56_ASP1_FRAME_CONTROL5 0x4820
#define CS35L56_ASP1_RX1            1
#define CS35L56_ASP1_RX2            2
#define CS35L56_ASP1_RX3            3
#define CS35L56_ASP1_RX1_SLOT       GENMASK(5, 0)
#define CS35L56_ASP1_RX2_SLOT       GENMASK(13, 8)
#define CS35L56_ASP1_RX2_SHIFT      8
#define CS35L56_ASP1_RX3_SLOT       GENMASK(21, 16)
#define CS35L56_ASP1_RX3_SHIFT      16

#define CS35L56_ASP1_DATA_CONTROL1 0x4830
#define CS35L56_ASP1_DATA_CONTROL5 0x4840
#define CS35L56_ASP1_WL_MIN        0xc
#define CS35L56_ASP1_WL_MAX        0x18

#define CS35L56_MAIN_RENDER_USER_MUTE   0x3400024
#define CS35L56_MAIN_RENDER_USER_VOLUME 0x340002C

/* DSP State */
#define CS35L56_DSP_STATE_RUNNING 2

/* Audio Commands */
#define CS35L56_DSP_MBOX_CMD_PLAY  0x0B000001
#define CS35L56_DSP_MBOX_CMD_PAUSE 0x0B000002

/* Timing characteristics */
#define CS35L56_T_RLPW_US        K_USEC(1000)
#define CS35L56_T_IRS_US         K_USEC(2200)
#define CS35L56_ROM_BOOT_POLL_US K_USEC(1000)
#define CS35L56_ROM_BOOT_RETRIES 250
#define CS35L56_ROM_BOOT_TIMEOUT K_MSEC(250)

#endif /* ZEPHYR_INCLUDE_CODEC_CS35L56_H_ */
