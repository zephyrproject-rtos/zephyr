/*
 * Copyright (c) 2022-2023 SILA Embedded Solutions GmbH
 *
 * SPDX-License-Identifier: Apache-2.0
 */

#ifndef ZEPHYR_DRIVERS_DISPLAY_ST7528_H_
#define ZEPHYR_DRIVERS_DISPLAY_ST7528_H_

#define ST7528_WIDTH	  160
#define ST7528_HEIGHT	  100
/* 4 bits per pixel, 16 levels of grayscale */
#define ST7528_BPP	  4
#define ST7528_NUM_GRAY_LEVELS (1 << ST7528_BPP)
#define ST7528_PWM_LEVELS 60
/* 13 pages, including a cut-off one at the bottom */
#define ST7528_NUM_PAGES  DIV_ROUND_UP(ST7528_HEIGHT, 8)

#define ST7528_RESET_DELAY K_USEC(2)

#define ST7528_CMD_SET_MODE		 0x38
#define ST7528_MODE_NORMAL		 0x00
#define ST7528_MODE_PALETTE		 0x01
#define ST7528_MODE_BOOSTER_EFFICIENCY_1 0x00
#define ST7528_MODE_BOOSTER_EFFICIENCY_2 0x04
#define ST7528_MODE_FRAMERATE_77	 0x00
#define ST7528_MODE_FRAMERATE_51	 0x10
#define ST7528_MODE_FRAMERATE_55	 0x20
#define ST7528_MODE_FRAMERATE_58	 0x30
#define ST7528_MODE_FRAMERATE_63	 0x40
#define ST7528_MODE_FRAMERATE_67	 0x50
#define ST7528_MODE_FRAMERATE_68	 0x60
#define ST7528_MODE_FRAMERATE_70	 0x70
#define ST7528_MODE_FRAMERATE_73	 0x80
#define ST7528_MODE_FRAMERATE_75	 0x90
#define ST7528_MODE_FRAMERATE_80	 0xA0
#define ST7528_MODE_FRAMERATE_85	 0xB0
#define ST7528_MODE_FRAMERATE_91	 0xC0
#define ST7528_MODE_FRAMERATE_102	 0xD0
#define ST7528_MODE_FRAMERATE_113	 0xE0
#define ST7528_MODE_FRAMERATE_123	 0xF0

#define ST7528_CMD_ICON_OFF 0xA2
#define ST7528_CMD_ICON_ON  0xA3

#define ST7528_CMD_SET_PAGE    0xB0
#define ST7528_CMD_SET_COL_MSN 0x10
#define ST7528_CMD_SET_COL_LSN 0x00

#define ST7528_CMD_DISPLAY_OFF 0xAE
#define ST7528_CMD_DISPLAY_ON  0xAF

#define ST7528_CMD_REVERSE_VIDEO_OFF 0xA6
#define ST7528_CMD_REVERSE_VIDEO_ON  0xA7

#define ST7528_CMD_SET_INITIAL_COM0	     0x44
#define ST7528_CMD_SET_PARTIAL_DISPLAY_LINES 0x48

#define ST7528_CMD_POWER_CONTROL	  0x28
#define ST7528_POWER_CONTROL_VC		  0x04
#define ST7528_POWER_CONTROL_VR		  0x02
#define ST7528_POWER_CONTROL_VF		  0x01
#define ST7528_CMD_SET_BOOST		  0x64
#define ST7528_CMD_SET_REGULATOR_RESISTOR 0x20
#define ST7528_CMD_SET_ELECTRONIC_VOLUME  0x81
#define ST7528_CMD_SET_LCD_BIAS		  0x50

#define ST7528_CMD_SHL_SELECT 0xC0
#define ST7528_CMD_ADC_SELECT 0xA0

#define ST7528_CMD_START_OSCILLATOR 0xAB
#define ST7528_CMD_RESET	    0xE2

#define ST7528_CMD_SET_FRC_PWM 0x90
#define ST7528_FRC_3	       0x04
#define ST7528_FRC_4	       0x00
#define ST7528_PWM_45	       0x01
#define ST7528_PWM_60	       0x02

#define ST7528_CMD_SET_PALETTE_ENTRY 0x80

#endif /* ZEPHYR_DRIVERS_DISPLAY_ST7528_H_ */
