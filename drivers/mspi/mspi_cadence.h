/*
 * Copyright (c) 2025 - 2026 Siemens Mobility GmbH
 *
 * SPDX-License-Identifier: Apache-2.0
 */

#ifndef ZEPHYR_DRIVERS_MSPI_CDNS_H_
#define ZEPHYR_DRIVERS_MSPI_CDNS_H_

#include <zephyr/kernel.h>
#include <zephyr/sys/util_macro.h>

/**
 * Timing configuration for the TI K3 MSPI peripheral.
 *
 * These values are put into the DEV_DELAY register and the names match the
 * register parts.
 */
struct mspi_cadence_timing_cfg {
	/* amount of clock cycles the CS pin is deasserted between transactions */
	uint8_t nss;
	/* amount of clock cycles no peripheral is selected during switching */
	uint8_t btwn;
	/* amount of clock cycles chip select is held after the last bit was
	 * transmitted
	 */
	uint8_t after;
	/* amount of clock cycles after CS is asserted and the first bit is
	 * transmitted
	 */
	uint8_t init;
};

/**
 * Enum which timing parameters should be modified
 */
enum mspi_cadence_timing_param {
	MSPI_CADENCE_TIMING_PARAM_NSS = BIT(0),
	MSPI_CADENCE_TIMING_PARAM_BTWN = BIT(1),
	MSPI_CADENCE_TIMING_PARAM_AFTER = BIT(2),
	MSPI_CADENCE_TIMING_PARAM_INIT = BIT(3)
};

/*
 * Ignored dev_cfg_bits
 *
 * These configuration requests are completely ignored with a warning via logging
 * and not even checked, if the current configuration might be the requested configuration
 */
#define CADENCE_MSPI_IGNORED_DEV_CONFIG_PARAMS                                                     \
	(MSPI_DEVICE_CONFIG_RX_DUMMY | MSPI_DEVICE_CONFIG_TX_DUMMY | MSPI_DEVICE_CONFIG_READ_CMD | \
	 MSPI_DEVICE_CONFIG_WRITE_CMD | MSPI_DEVICE_CONFIG_CMD_LEN | MSPI_DEVICE_CONFIG_ADDR_LEN | \
	 MSPI_DEVICE_CONFIG_FREQUENCY)

/* Default delay for time between clock enablement and chip select and other */
#define CADENCE_MSPI_DEFAULT_DELAY 10

/* Timeout calculations and default timeout values */
#define CADENCE_MSPI_TIME_BETWEEN_RETRIES_MS     10
#define CADENCE_MSPI_TIME_BETWEEN_RETRIES        K_MSEC(CADENCE_MSPI_TIME_BETWEEN_RETRIES_MS)
#define CADENCE_MSPI_GET_NUM_RETRIES(timeout_ms) (timeout_ms / CADENCE_MSPI_TIME_BETWEEN_RETRIES_MS)

/* General register offsets */
#define CADENCE_MSPI_CONFIG_OFFSET                        0x0u
#define CADENCE_MSPI_DEV_INSTR_RD_CONFIG_OFFSET           0x4u
#define CADENCE_MSPI_DEV_INSTR_WR_CONFIG_OFFSET           0x8u
#define CADENCE_MSPI_DEV_DELAY_OFFSET                     0xcu
#define CADENCE_MSPI_RD_DATA_CAPTURE_OFFSET               0x10u
#define CADENCE_MSPI_DEV_SIZE_CONFIG_OFFSET               0x14u
#define CADENCE_MSPI_SRAM_PARTITION_CFG_OFFSET            0x18u
#define CADENCE_MSPI_IND_AHB_ADDR_TRIGGER_OFFSET          0x1cu
#define CADENCE_MSPI_DMA_PERIPH_CONFIG_OFFSET             0x20u
#define CADENCE_MSPI_REMAP_ADDR_OFFSET                    0x24u
#define CADENCE_MSPI_MODE_BIT_CONFIG_OFFSET               0x28u
#define CADENCE_MSPI_SRAM_FILL_OFFSET                     0x2cu
#define CADENCE_MSPI_TX_THRESH_OFFSET                     0x30u
#define CADENCE_MSPI_RX_THRESH_OFFSET                     0x34u
#define CADENCE_MSPI_WRITE_COMPLETION_CTRL_OFFSET         0x38u
#define CADENCE_MSPI_NO_OF_POLLS_BEF_EXP_OFFSET           0x3cu
#define CADENCE_MSPI_IRQ_STATUS_OFFSET                    0x40u
#define CADENCE_MSPI_IRQ_MASK_OFFSET                      0x44u
#define CADENCE_MSPI_LOWER_WR_PROT_OFFSET                 0x50u
#define CADENCE_MSPI_UPPER_WR_PROT_OFFSET                 0x54u
#define CADENCE_MSPI_WR_PROT_CTRL_OFFSET                  0x58u
#define CADENCE_MSPI_INDIRECT_READ_XFER_CTRL_OFFSET       0x60u
#define CADENCE_MSPI_INDIRECT_READ_XFER_WATERMARK_OFFSET  0x64u
#define CADENCE_MSPI_INDIRECT_READ_XFER_START_OFFSET      0x68u
#define CADENCE_MSPI_INDIRECT_READ_XFER_NUM_BYTES_OFFSET  0x6cu
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_CTRL_OFFSET      0x70u
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_WATERMARK_OFFSET 0x74u
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_START_OFFSET     0x78u
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_NUM_BYTES_OFFSET 0x7cu
#define CADENCE_MSPI_INDIRECT_TRIGGER_ADDR_RANGE_OFFSET   0x80u
#define CADENCE_MSPI_FLASH_COMMAND_CTRL_MEM_OFFSET        0x8cu
#define CADENCE_MSPI_FLASH_CMD_CTRL_OFFSET                0x90u
#define CADENCE_MSPI_FLASH_CMD_ADDR_OFFSET                0x94u
#define CADENCE_MSPI_FLASH_RD_DATA_LOWER_OFFSET           0xa0u
#define CADENCE_MSPI_FLASH_RD_DATA_UPPER_OFFSET           0xa4u
#define CADENCE_MSPI_FLASH_WR_DATA_LOWER_OFFSET           0xa8u
#define CADENCE_MSPI_FLASH_WR_DATA_UPPER_OFFSET           0xacu
#define CADENCE_MSPI_POLLING_FLASH_STATUS_OFFSET          0xb0u
#define CADENCE_MSPI_PHY_CONFIGURATION_OFFSET             0xb4u
#define CADENCE_MSPI_PHY_MASTER_CONTROL_OFFSET            0xb8u
#define CADENCE_MSPI_DLL_OBSERVABLE_LOWER_OFFSET          0xbcu
#define CADENCE_MSPI_DLL_OBSERVABLE_UPPER_OFFSET          0xc0u
#define CADENCE_MSPI_OPCODE_EXT_LOWER_OFFSET              0xe0u
#define CADENCE_MSPI_OPCODE_EXT_UPPER_OFFSET              0xe4u
#define CADENCE_MSPI_MODULE_ID_OFFSET                     0xfcu

/* CONFIG */
#define CADENCE_MSPI_CONFIG_REG_IDLE_BIT                BIT(31)
#define CADENCE_MSPI_CONFIG_REG_DUAL_BYTE_OPCODE_EN_BIT BIT(30)
#define CADENCE_MSPI_CONFIG_REG_CRC_ENABLE_BIT          BIT(29)
#define CADENCE_MSPI_CONFIG_REG_PIPELINE_PHY_BIT        BIT(25)
#define CADENCE_MSPI_CONFIG_REG_ENABLE_DTR_PROTOCOL_BIT BIT(24)
#define CADENCE_MSPI_CONFIG_REG_ENABLE_AHB_DECODER_BIT  BIT(23)
#define CADENCE_MSPI_CONFIG_REG_MSTR_BAUD_DIV_MASK      GENMASK(22, 19)
#define CADENCE_MSPI_CONFIG_REG_ENTER_XIP_MODE_IMM_BIT  BIT(18)
#define CADENCE_MSPI_CONFIG_REG_ENTER_XIP_MODE_BIT      BIT(17)
#define CADENCE_MSPI_CONFIG_REG_ENB_AHB_ADDR_REMAP_BIT  BIT(16)
#define CADENCE_MSPI_CONFIG_REG_ENB_DMA_IF_BIT          BIT(15)
#define CADENCE_MSPI_CONFIG_REG_WR_PROT_FLASH_BIT       BIT(14)
#define CADENCE_MSPI_CONFIG_REG_PERIPH_CS_LINES_MASK    GENMASK(13, 10)
#define CADENCE_MSPI_CONFIG_REG_PERIPH_SEL_DEC_BIT      BIT(9)
#define CADENCE_MSPI_CONFIG_REG_ENB_LEGACY_IP_MODE_BIT  BIT(8)
#define CADENCE_MSPI_CONFIG_REG_ENB_DIR_ACC_CTRL_BIT    BIT(7)
#define CADENCE_MSPI_CONFIG_REG_RESET_CFG_BIT           BIT(6)
#define CADENCE_MSPI_CONFIG_REG_RESET_PIN_BIT           BIT(5)
#define CADENCE_MSPI_CONFIG_REG_HOLD_PIN_BIT            BIT(4)
#define CADENCE_MSPI_CONFIG_REG_PHY_MODE_ENABLE_BIT     BIT(3)
#define CADENCE_MSPI_CONFIG_REG_SEL_CLK_PHASE_BIT       BIT(2)
#define CADENCE_MSPI_CONFIG_REG_SEL_CLK_POL_BIT         BIT(1)
#define CADENCE_MSPI_CONFIG_REG_ENABLE_SPI_BIT          BIT(0)

/* DEV_INSTR_RD_CONFIG */
#define CADENCE_MSPI_DEV_INSTR_RD_CONFIG_REG_DUMMY_RD_CLK_CYCLES_MASK     GENMASK(28, 24)
#define CADENCE_MSPI_DEV_INSTR_RD_CONFIG_REG_MODE_BIT_ENABLE_BIT          BIT(20)
#define CADENCE_MSPI_DEV_INSTR_RD_CONFIG_REG_DATA_XFER_TYPE_EXT_MODE_MASK GENMASK(17, 16)
#define CADENCE_MSPI_DEV_INSTR_RD_CONFIG_REG_ADDR_XFER_TYPE_STD_MODE_MASK GENMASK(13, 12)
#define CADENCE_MSPI_DEV_INSTR_RD_CONFIG_REG_DDR_EN_BIT                   BIT(10)
#define CADENCE_MSPI_DEV_INSTR_RD_CONFIG_REG_INSTR_TYPE_MASK              GENMASK(9, 8)
#define CADENCE_MSPI_DEV_INSTR_RD_CONFIG_REG_RD_OPCODE_NON_XIP_MASK       GENMASK(7, 0)

/* DEV_INSTR_WR_CONFIG */
#define CADENCE_MSPI_DEV_INSTR_WR_CONFIG_REG_DUMMY_WR_CLK_CYCLES_MASK     GENMASK(28, 24)
#define CADENCE_MSPI_DEV_INSTR_WR_CONFIG_REG_DATA_XFER_TYPE_EXT_MODE_MASK GENMASK(17, 16)
#define CADENCE_MSPI_DEV_INSTR_WR_CONFIG_REG_ADDR_XFER_TYPE_STD_MODE_MASK GENMASK(13, 12)
#define CADENCE_MSPI_DEV_INSTR_WR_CONFIG_REG_WEL_DIS_BIT                  BIT(8)
#define CADENCE_MSPI_DEV_INSTR_WR_CONFIG_REG_WR_OPCODE_NON_XIP_MASK       GENMASK(7, 0)

/* Max value of DUMMY_RD_CLK_CYCLES_FLD / DUMMY_WR_CLK_CYCLES_FLD */
#define CADENCE_MSPI_INSTR_RD_CONFIG_REG_DUMMY_RD_CLK_CYCLES_MAX_VALUE 0x1F
#define CADENCE_MSPI_INSTR_WR_CONFIG_REG_DUMMY_WR_CLK_CYCLES_MAX_VALUE 0x1F

/* DEV_DELAY */
#define CADENCE_MSPI_DEV_DELAY_REG_D_NSS_MASK   GENMASK(31, 24)
#define CADENCE_MSPI_DEV_DELAY_REG_D_BTWN_MASK  GENMASK(23, 16)
#define CADENCE_MSPI_DEV_DELAY_REG_D_AFTER_MASK GENMASK(15, 8)
#define CADENCE_MSPI_DEV_DELAY_REG_D_INIT_MASK  GENMASK(7, 0)

/* RD_DATA_CAPTURE */
#define CADENCE_MSPI_RD_DATA_CAPTURE_REG_DDR_READ_DELAY_MASK GENMASK(19, 16)
#define CADENCE_MSPI_RD_DATA_CAPTURE_REG_DQS_ENABLE_BIT      BIT(8)
#define CADENCE_MSPI_RD_DATA_CAPTURE_REG_SAMPLE_EDGE_SEL_BIT BIT(5)
#define CADENCE_MSPI_RD_DATA_CAPTURE_REG_DELAY_MASK          GENMASK(4, 1)
#define CADENCE_MSPI_RD_DATA_CAPTURE_REG_BYPASS_BIT          BIT(0)

/* DEV_SIZE_CONFIG */
#define CADENCE_MSPI_DEV_SIZE_CONFIG_REG_MEM_SIZE_ON_CS3_MASK       GENMASK(28, 27)
#define CADENCE_MSPI_DEV_SIZE_CONFIG_REG_MEM_SIZE_ON_CS2_MASK       GENMASK(26, 25)
#define CADENCE_MSPI_DEV_SIZE_CONFIG_REG_MEM_SIZE_ON_CS1_MASK       GENMASK(24, 23)
#define CADENCE_MSPI_DEV_SIZE_CONFIG_REG_MEM_SIZE_ON_CS0_MASK       GENMASK(22, 21)
#define CADENCE_MSPI_DEV_SIZE_CONFIG_REG_BYTES_PER_SUBSECTOR_MASK   GENMASK(20, 16)
#define CADENCE_MSPI_DEV_SIZE_CONFIG_REG_BYTES_PER_DEVICE_PAGE_MASK GENMASK(15, 4)
#define CADENCE_MSPI_DEV_SIZE_CONFIG_REG_NUM_ADDR_BYTES_MASK        GENMASK(3, 0)

/* SRAM_PARTITION_CFG */
#define CADENCE_MSPI_SRAM_PARTITION_CFG_REG_ADDR_MASK GENMASK(7, 0)

/* INDIRECT_TRIGGER_ADDR_RANGE */
#define CADENCE_MSPI_INDIRECT_TRIGGER_ADDR_RANGE_REG_IND_RANGE_WIDTH_MASK GENMASK(3, 0)

/* REMAP_ADDR */
#define CADENCE_MSPI_REMAP_ADDR_REG_VALUE_MASK GENMASK(31, 0)

/* SRAM_FILL */
#define CADENCE_MSPI_SRAM_FILL_REG_INDAC_WRITE_MASK GENMASK(31, 16)
#define CADENCE_MSPI_SRAM_FILL_REG_INDAC_READ_MASK  GENMASK(15, 0)

/* TX_THRESH */
#define CADENCE_MSPI_TX_THRESH_REG_LEVEL_MASK GENMASK(4, 0)

/* RX_THRESH */
#define CADENCE_MSPI_RX_THRESH_REG_LEVEL_MASK GENMASK(4, 0)

/* WRITE_COMPLETION_CTRL */
#define CADENCE_MSPI_WRITE_COMPLETION_CTRL_REG_POLL_REP_DELAY_MASK    GENMASK(31, 24)
#define CADENCE_MSPI_WRITE_COMPLETION_CTRL_REG_POLL_COUNT_MASK        GENMASK(23, 16)
#define CADENCE_MSPI_WRITE_COMPLETION_CTRL_REG_ENABLE_POLLING_EXP_BIT BIT(15)
#define CADENCE_MSPI_WRITE_COMPLETION_CTRL_REG_DISABLE_POLLING_BIT    BIT(14)
#define CADENCE_MSPI_WRITE_COMPLETION_CTRL_REG_POLLING_POLARITY_BIT   BIT(13)
#define CADENCE_MSPI_WRITE_COMPLETION_CTRL_REG_POLLING_BIT_INDEX_MASK GENMASK(10, 8)
#define CADENCE_MSPI_WRITE_COMPLETION_CTRL_REG_OPCODE_MASK            GENMASK(7, 0)

/* NO_OF_POLLS_BEF_EXP */
#define CADENCE_MSPI_NO_OF_POLLS_BEF_EXP_REG_NO_OF_POLLS_BEF_EXP_MASK GENMASK(31, 0)

/* IRQ_STATUS */
#define CADENCE_MSPI_IRQ_STATUS_REG_ECC_FAIL_BIT                   BIT(19)
#define CADENCE_MSPI_IRQ_STATUS_REG_TX_CRC_CHUNK_BRK_BIT           BIT(18)
#define CADENCE_MSPI_IRQ_STATUS_REG_RX_CRC_DATA_VAL_BIT            BIT(17)
#define CADENCE_MSPI_IRQ_STATUS_REG_RX_CRC_DATA_ERR_BIT            BIT(16)
#define CADENCE_MSPI_IRQ_STATUS_REG_STIG_REQ_INT_BIT               BIT(14)
#define CADENCE_MSPI_IRQ_STATUS_REG_POLL_EXP_INT_BIT               BIT(13)
#define CADENCE_MSPI_IRQ_STATUS_REG_INDRD_SRAM_FULL_BIT            BIT(12)
#define CADENCE_MSPI_IRQ_STATUS_REG_RX_FIFO_FULL_BIT               BIT(11)
#define CADENCE_MSPI_IRQ_STATUS_REG_RX_FIFO_NOT_EMPTY_BIT          BIT(10)
#define CADENCE_MSPI_IRQ_STATUS_REG_TX_FIFO_FULL_BIT               BIT(9)
#define CADENCE_MSPI_IRQ_STATUS_REG_TX_FIFO_NOT_FULL_BIT           BIT(8)
#define CADENCE_MSPI_IRQ_STATUS_REG_RECV_OVERFLOW_BIT              BIT(7)
#define CADENCE_MSPI_IRQ_STATUS_REG_INDIRECT_XFER_LEVEL_BREACH_BIT BIT(6)
#define CADENCE_MSPI_IRQ_STATUS_REG_ILLEGAL_ACCESS_DET_BIT         BIT(5)
#define CADENCE_MSPI_IRQ_STATUS_REG_PROT_WR_ATTEMPT_BIT            BIT(4)
#define CADENCE_MSPI_IRQ_STATUS_REG_INDIRECT_READ_REJECT_BIT       BIT(3)
#define CADENCE_MSPI_IRQ_STATUS_REG_INDIRECT_OP_DONE_BIT           BIT(2)
#define CADENCE_MSPI_IRQ_STATUS_REG_UNDERFLOW_DET_BIT              BIT(1)
#define CADENCE_MSPI_IRQ_STATUS_REG_MODE_M_FAIL_BIT                BIT(0)

#define CADENCE_MSPI_IRQ_STATUS_REG_ALL (BIT_MASK(19) & ~BIT(15))

/* IRQ_MASK */
#define CADENCE_MSPI_IRQ_BIT_REG_ECC_FAIL_MASK_MASK                   BIT(19)
#define CADENCE_MSPI_IRQ_BIT_REG_TX_CRC_CHUNK_BRK_MASK_MASK           BIT(18)
#define CADENCE_MSPI_IRQ_BIT_REG_RX_CRC_DATA_VAL_MASK_MASK            BIT(17)
#define CADENCE_MSPI_IRQ_BIT_REG_RX_CRC_DATA_ERR_MASK_MASK            BIT(16)
#define CADENCE_MSPI_IRQ_BIT_REG_STIG_REQ_INT_MASK_MASK               BIT(14)
#define CADENCE_MSPI_IRQ_BIT_REG_POLL_EXP_INT_MASK_MASK               BIT(13)
#define CADENCE_MSPI_IRQ_BIT_REG_INDRD_SRAM_FULL_MASK_MASK            BIT(12)
#define CADENCE_MSPI_IRQ_BIT_REG_RX_FIFO_FULL_MASK_MASK               BIT(11)
#define CADENCE_MSPI_IRQ_BIT_REG_RX_FIFO_NOT_EMPTY_MASK_MASK          BIT(10)
#define CADENCE_MSPI_IRQ_BIT_REG_TX_FIFO_FULL_MASK_MASK               BIT(9)
#define CADENCE_MSPI_IRQ_BIT_REG_TX_FIFO_NOT_FULL_MASK_MASK           BIT(8)
#define CADENCE_MSPI_IRQ_BIT_REG_RECV_OVERFLOW_MASK_MASK              BIT(7)
#define CADENCE_MSPI_IRQ_BIT_REG_INDIRECT_XFER_LEVEL_BREACH_MASK_MASK BIT(6)
#define CADENCE_MSPI_IRQ_BIT_REG_ILLEGAL_ACCESS_DET_MASK_MASK         BIT(5)
#define CADENCE_MSPI_IRQ_BIT_REG_PROT_WR_ATTEMPT_MASK_MASK            BIT(4)
#define CADENCE_MSPI_IRQ_BIT_REG_INDIRECT_READ_REJECT_MASK_MASK       BIT(3)
#define CADENCE_MSPI_IRQ_BIT_REG_INDIRECT_OP_DONE_MASK_MASK           BIT(2)
#define CADENCE_MSPI_IRQ_BIT_REG_UNDERFLOW_DET_MASK_MASK              BIT(1)
#define CADENCE_MSPI_IRQ_BIT_REG_MODE_M_FAIL_MASK_MASK                BIT(0)

#define CADENCE_MSPI_IRQ_MASK_REG_ALL (BIT_MASK(19) & ~BIT(15))

/* LOWER_WR_PROT */
#define CADENCE_MSPI_LOWER_WR_PROT_REG_SUBSECTOR_MASK GENMASK(31, 0)

/* UPPER_WR_PROT */
#define CADENCE_MSPI_UPPER_WR_PROT_REG_SUBSECTOR_MASK GENMASK(31, 0)

/* WR_PROT_CTRL */
#define CADENCE_MSPI_WR_PROT_CTRL_REG_ENB_BIT BIT(1)
#define CADENCE_MSPI_WR_PROT_CTRL_REG_INV_BIT BIT(0)

/* INDIRECT_READ_XFER_CTRL */
#define CADENCE_MSPI_INDIRECT_READ_XFER_CTRL_REG_NUM_IND_OPS_DONE_MASK   GENMASK(7, 6)
#define CADENCE_MSPI_INDIRECT_READ_XFER_CTRL_REG_IND_OPS_DONE_STATUS_BIT BIT(5)
#define CADENCE_MSPI_INDIRECT_READ_XFER_CTRL_REG_RD_QUEUED_BIT           BIT(4)
#define CADENCE_MSPI_INDIRECT_READ_XFER_CTRL_REG_SRAM_FULL_BIT           BIT(3)
#define CADENCE_MSPI_INDIRECT_READ_XFER_CTRL_REG_RD_STATUS_BIT           BIT(2)
#define CADENCE_MSPI_INDIRECT_READ_XFER_CTRL_REG_CANCEL_BIT              BIT(1)
#define CADENCE_MSPI_INDIRECT_READ_XFER_CTRL_REG_START_BIT               BIT(0)

/* INDIRECT_READ_XFER_WATERMARK */
#define CADENCE_MSPI_INDIRECT_READ_XFER_WATERMARK_REG_LEVEL_MASK GENMASK(31, 0)

/* INDIRECT_READ_XFER_START */
#define CADENCE_MSPI_INDIRECT_READ_XFER_START_REG_ADDR_MASK GENMASK(31, 0)

/* INDIRECT_READ_XFER_NUM_BYTES */
#define CADENCE_MSPI_INDIRECT_READ_XFER_NUM_BYTES_REG_VALUE_MASK GENMASK(31, 0)

/* INDIRECT_WRITE_XFER_CTRL_REG */
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_CTRL_REG_NUM_IND_OPS_DONE_MASK   GENMASK(7, 6)
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_CTRL_REG_IND_OPS_DONE_STATUS_BIT BIT(5)
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_CTRL_REG_WR_QUEUED_BIT           BIT(4)
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_CTRL_REG_WR_STATUS_BIT           BIT(2)
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_CTRL_REG_CANCEL_BIT              BIT(1)
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_CTRL_REG_START_BIT               BIT(0)

/* INDIRECT_WRITE_XFER_WATERMARK */
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_WATERMARK_REG_LEVEL_MASK GENMASK(31, 0)

/* INDIRECT_WRITE_XFER_START */
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_START_REG_ADDR_MASK GENMASK(31, 0)

/* INDIRECT_WRITE_XFER_NUM_BYTES */
#define CADENCE_MSPI_INDIRECT_WRITE_XFER_NUM_BYTES_REG_VALUE_MASK GENMASK(31, 0)

/* IND_AHB_ADDR_TRIGGER */
#define CADENCE_MSPI_IND_AHB_ADDR_TRIGGER_REG_ADDR_MASK GENMASK(31, 0)

/* FLASH_COMMAND_CTRL_MEM */
#define CADENCE_MSPI_FLASH_COMMAND_CTRL_MEM_REG_MEM_BANK_ADDR_MASK           GENMASK(28, 20)
#define CADENCE_MSPI_FLASH_COMMAND_CTRL_MEM_REG_NB_OF_STIG_READ_BYTES_MASK   GENMASK(18, 16)
#define CADENCE_MSPI_FLASH_COMMAND_CTRL_MEM_REG_MEM_BANK_READ_DATA_MASK      GENMASK(15, 8)
#define CADENCE_MSPI_FLASH_COMMAND_CTRL_MEM_REG_MEM_BANK_REQ_IN_PROGRESS_BIT BIT(1)
#define CADENCE_MSPI_FLASH_COMMAND_CTRL_MEM_REG_TRIGGER_MEM_BANK_REQ_BIT     BIT(0)

/* FLASH_CMD_CTRL */
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_CMD_OPCODE_MASK        GENMASK(31, 24)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_ENB_READ_DATA_BIT      BIT(23)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_NUM_RD_DATA_BYTES_MASK GENMASK(22, 20)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_ENB_COMD_ADDR_BIT      BIT(19)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_ENB_MODE_BIT_BIT       BIT(18)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_NUM_ADDR_BYTES_MASK    GENMASK(17, 16)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_ENB_WRITE_DATA_BIT     BIT(15)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_NUM_WR_DATA_BYTES_MASK GENMASK(14, 12)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_NUM_DUMMY_CYCLES_MASK  GENMASK(11, 7)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_STIG_MEM_BANK_EN_BIT   BIT(2)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_CMD_EXEC_STATUS_BIT    BIT(1)
#define CADENCE_MSPI_FLASH_CMD_CTRL_REG_CMD_EXEC_BIT           BIT(0)

/* FLASH_CMD_ADDR */
#define CADENCE_MSPI_FLASH_CMD_ADDR_REG_ADDR_MASK GENMASK(31, 0)

/* FLASH_RD_DATA_LOWER */
#define CADENCE_MSPI_FLASH_RD_DATA_LOWER_REG_DATA_MASK GENMASK(31, 0)

/* FLASH_RD_DATA_UPPER */
#define CADENCE_MSPI_FLASH_RD_DATA_UPPER_REG_DATA_MASK GENMASK(31, 0)

/* FLASH_WR_DATA_LOWER */
#define CADENCE_MSPI_FLASH_WR_DATA_LOWER_REG_DATA_MASK GENMASK(31, 0)

/* FLASH_WR_DATA_UPPER */
#define CADENCE_MSPI_FLASH_WR_DATA_UPPER_REG_DATA_MASK GENMASK(31, 0)

/* POLLING_FLASH_STATUS */
#define CADENCE_MSPI_POLLING_FLASH_STATUS_REG_DEVICE_STATUS_NB_DUMMY_MASK GENMASK(19, 16)
#define CADENCE_MSPI_POLLING_FLASH_STATUS_REG_DEVICE_STATUS_VALID_BIT     BIT(8)
#define CADENCE_MSPI_POLLING_FLASH_STATUS_REG_DEVICE_STATUS_MASK          GENMASK(7, 0)

/* PHY_CONFIGURATION */
#define CADENCE_MSPI_PHY_REG_CONFIGURATION_RESYNC_BIT        BIT(31)
#define CADENCE_MSPI_PHY_REG_CONFIGURATION_RESET_BIT         BIT(30)
#define CADENCE_MSPI_PHY_REG_CONFIGURATION_RX_DLL_BYPASS_BIT BIT(29)
#define CADENCE_MSPI_PHY_REG_CONFIGURATION_TX_DLL_DELAY_MASK GENMASK(22, 16)
#define CADENCE_MSPI_PHY_REG_CONFIGURATION_RX_DLL_DELAY_MASK GENMASK(6, 0)

/* PHY_MASTER_CONTROL */
#define CADENCE_MSPI_PHY_MASTER_CONTROL_REG_LOCK_MODE_BIT              BIT(24)
#define CADENCE_MSPI_PHY_MASTER_CONTROL_REG_BYPASS_MODE_BIT            BIT(23)
#define CADENCE_MSPI_PHY_MASTER_CONTROL_REG_PHASE_DETECT_SELECTOR_MASK GENMASK(22, 20)
#define CADENCE_MSPI_PHY_MASTER_CONTROL_REG_NB_INDICATIONS_MASK        GENMASK(18, 16)
#define CADENCE_MSPI_PHY_MASTER_CONTROL_REG_INITIAL_DELAY_MASK         GENMASK(6, 0)

/* DLL_OBSERVABLE_LOWER */
#define CADENCE_MSPI_DLL_OBSERVABLE_LOWER_REG_DLL_LOCK_INC_MASK   GENMASK(31, 24)
#define CADENCE_MSPI_DLL_OBSERVABLE_LOWER_REG_DLL_LOCK_DEC_MASK   GENMASK(23, 16)
#define CADENCE_MSPI_DLL_OBSERVABLE_LOWER_REG_LOOPBACK_LOCK_BIT   BIT(15)
#define CADENCE_MSPI_DLL_OBSERVABLE_LOWER_REG_LOCK_VALUE_MASK     GENMASK(14, 8)
#define CADENCE_MSPI_DLL_OBSERVABLE_LOWER_REG_UNLOCK_COUNTER_MASK GENMASK(7, 3)
#define CADENCE_MSPI_DLL_OBSERVABLE_LOWER_REG_LOCK_MODE_MASK      GENMASK(2, 1)
#define CADENCE_MSPI_DLL_OBSERVABLE_LOWER_REG_DLL_LOCK_BIT        BIT(0)

/* DLL_OBSERVABLE_UPPER */
#define CADENCE_MSPI_DLL_OBSERVABLE_UPPER_REG_TX_DECODER_OUTPUT_MASK GENMASK(22, 16)
#define CADENCE_MSPI_DLL_OBSERVABLE_UPPER_REG_RX_DECODER_OUTPUT_MASK GENMASK(6, 0)

/* OPCODE_EXT_LOWER */
#define CADENCE_MSPI_OPCODE_EXT_LOWER_REG_EXT_READ_OPCODE_MASK  GENMASK(31, 24)
#define CADENCE_MSPI_OPCODE_EXT_LOWER_REG_EXT_WRITE_OPCODE_MASK GENMASK(23, 16)
#define CADENCE_MSPI_OPCODE_EXT_LOWER_REG_EXT_POLL_OPCODE_MASK  GENMASK(15, 8)
#define CADENCE_MSPI_OPCODE_EXT_LOWER_REG_EXT_STIG_OPCODE_MASK  GENMASK(7, 0)

/* OPCODE_EXT_UPPER */
#define CADENCE_MSPI_OPCODE_EXT_UPPER_REG_WEL_OPCODE_MASK     GENMASK(31, 24)
#define CADENCE_MSPI_OPCODE_EXT_UPPER_REG_EXT_WEL_OPCODE_MASK GENMASK(23, 16)

#endif /* ZEPHYR_DRIVERS_MSPI_CDNS_H_ */
