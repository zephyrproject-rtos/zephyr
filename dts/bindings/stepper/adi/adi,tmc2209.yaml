# SPDX-FileCopyrightText: Copyright (c) 2024 Fabian Blatz <fabianblatz@gmail.com>
# SPDX-License-Identifier: Apache-2.0

description: |
  Analog Devices TMC2209 stepper motor driver.

compatible: "adi,tmc2209"

include:
  - name: stepper-driver.yaml
  - name: step-dir-timing.yaml

properties:
  step-width-ns:
    default: 100

  m0-gpios:
    type: phandle-array
    description: Microstep configuration pin MS1.

  m1-gpios:
    type: phandle-array
    description: Microstep configuration pin MS2.

  dual-edge-step:
    type: boolean
    description: |
      If present, the stepper motor controller supports dual edge step signals.
      This means that the step signal can be toggled on both the rising and falling edge.

examples:
  - |
    tmc2209: tmc2209 {
        compatible = "adi,tmc2209";
        enable-gpios = <&gpio0 0 GPIO_ACTIVE_HIGH>;
        m0-gpios = <&gpio0 1 GPIO_ACTIVE_HIGH>;
        m1-gpios = <&gpio0 2 GPIO_ACTIVE_HIGH>;
    }
