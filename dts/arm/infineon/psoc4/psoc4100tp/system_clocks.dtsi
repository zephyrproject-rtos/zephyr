/*
 * Copyright (c) 2025 Infineon Technologies AG,
 * or an affiliate of Infineon Technologies AG.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

#define DIV_16_BIT	1
#define DIV_16_5_BIT	2
#define DIV_24_5_BIT	3

#include <zephyr/dt-bindings/clock/ifx_clock_source_common.h>
#include <zephyr/dt-bindings/clock/ifx_clock_source_psoc4xx.h>

/ {
	clocks {
		/* Internal main oscillator (IMO) */
		clk_imo: clk_imo {
			#clock-cells = <0>;
			compatible = "infineon,fixed-clock";
			clock-frequency = <24000000>; /* 24 MHz */
			system-clock = <IFX_IMO>;
			status = "okay";
		};

		/* Internal low-speed oscillator (ILO) */
		clk_ilo: clk_ilo {
			#clock-cells = <0>;
			compatible = "infineon,fixed-clock";
			clock-frequency = <40000>; /* 40 kHz */
			system-clock = <IFX_ILO>;
			status = "okay";
		};

		/* External clock (EXTCLK) */
		clk_ext: clk_extclk {
			#clock-cells = <0>;
			compatible = "infineon,fixed-clock";
			clock-frequency = <48000000>; /* 48 MHz */
			system-clock = <IFX_EXT>;
			status = "okay";
		};

		/* Watch crystal oscillator (WCO) */
		clk_wco: clk_wco {
			#clock-cells = <0>;
			compatible = "infineon,fixed-clock";
			clock-frequency = <32000>; /* 32 kHz */
			system-clock = <IFX_WCO>;
			status = "okay";
		};

		hf_clk_mux0: hf_clk_mux0 {
			#clock-cells = <0>;
			compatible = "infineon,fixed-factor-clock";
			clocks = <&clk_imo>;
			system-clock = <IFX_PATHMUX>;
			instance = <0>; /* imo inst */
			status = "disabled";
		};

		hf_clk_mux1: hf_clk_mux1 {
			#clock-cells = <0>;
			compatible = "infineon,fixed-factor-clock";
			clocks = <&clk_ext>;
			system-clock = <IFX_PATHMUX>;
			instance = <1>; /* ext inst */
			status = "disabled";
		};

		pump_clk_mux0: pump_clk_mux0 {
			#clock-cells = <0>;
			compatible = "infineon,fixed-factor-clock";
			clocks = <&clk_imo>;
			system-clock = <IFX_PATHMUX>;
			instance = <1>; /* pump imo inst */
			status = "disabled";
		};

		clk_hf: clk_hf {
			#clock-cells = <0>;
			compatible = "infineon,fixed-factor-clock";
			clock-div = <IFX_CLK_HF_NO_DIVIDE>;
			clocks = <&hf_clk_mux0>;
			system-clock = <IFX_HF>;
			instance = <0>;
			status = "disabled";
		};

		pump_clk_mux1: pump_clk_mux1 {
			#clock-cells = <0>;
			compatible = "infineon,fixed-factor-clock";
			system-clock = <IFX_PATHMUX>;
			clocks = <&clk_hf>;
			system-clock = <IFX_HF>;
			instance = <2>; /* pump hfclk inst */
			status = "disabled";
		};

		clk_pump: clk_pump {
			#clock-cells = <0>;
			compatible = "infineon,fixed-factor-clock";
			system-clock = <IFX_PUMP>;
			clocks = <&pump_clk_mux0>;
			instance = <0>;
			status = "disabled";
		};
	};

	/*
	 * Note: peri-group property is not required for psoc4100t but to satisfy the
	 * clk driver it is initialized to 0
	 */
	peri_div: peri_div {
		peri_div_16bit_0: peri_div_16bit_0 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <0>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_1: peri_div_16bit_1 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <1>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_2: peri_div_16bit_2 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <2>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_3: peri_div_16bit_3 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <3>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_4: peri_div_16bit_4 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <4>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_5: peri_div_16bit_5 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <5>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_6: peri_div_16bit_6 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <6>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_7: peri_div_16bit_7 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <7>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_8: peri_div_16bit_8 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <8>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_9: peri_div_16bit_9 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <9>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_10: peri_div_16bit_10 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <10>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16bit_11: peri_div_16bit_11 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_BIT>;
			channel = <11>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16_5bit_0: peri_div_16_5bit_0 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_5_BIT>;
			channel = <0>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16_5bit_1: peri_div_16_5bit_1 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_5_BIT>;
			channel = <1>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16_5bit_2: peri_div_16_5bit_2 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_5_BIT>;
			channel = <2>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16_5bit_3: peri_div_16_5bit_3 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_5_BIT>;
			channel = <3>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_16_5bit_4: peri_div_16_5bit_4 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_16_5_BIT>;
			channel = <4>;
			clock-div = <1>;
			status = "disabled";
		};

		peri_div_24_5bit_0: peri_div_24_5bit_0 {
			#clock-cells = <0>;
			compatible = "infineon,peri-div";
			peri-group = [00 00];
			div-type = <DIV_24_5_BIT>;
			channel = <0>;
			clock-div = <1>;
			status = "disabled";
		};
	};
};
