#
# Configuration file for test application that can be used in networking
# automatic testing.
#

# Generic kernel configuration
CONFIG_TEST_RANDOM_GENERATOR=y
CONFIG_ENTROPY_GENERATOR=y
CONFIG_INIT_STACKS=y
CONFIG_PRINTK=y

# Network features to activate
CONFIG_NETWORKING=y
CONFIG_NET_IPV6=y
CONFIG_NET_IPV4=y
CONFIG_NET_DHCPV4=n
CONFIG_NET_UDP=y
CONFIG_NET_TCP=y
CONFIG_NET_STATISTICS=y
CONFIG_NET_SHELL=y

# Logging
CONFIG_NET_LOG=y
CONFIG_SYS_LOG_SHOW_COLOR=y
CONFIG_SYS_LOG_NET_LEVEL=4

# Amount of network buffers
CONFIG_NET_PKT_RX_COUNT=64
CONFIG_NET_PKT_TX_COUNT=64
CONFIG_NET_BUF_RX_COUNT=64
CONFIG_NET_BUF_TX_COUNT=64

# Max number of IP address addresses for each network interface
CONFIG_NET_IF_UNICAST_IPV6_ADDR_COUNT=5
CONFIG_NET_IF_MCAST_IPV6_ADDR_COUNT=5
CONFIG_NET_IF_UNICAST_IPV4_ADDR_COUNT=1

# Network context max count
CONFIG_NET_MAX_CONTEXTS=10

# Ethernet is needed for VLAN
CONFIG_NET_L2_ETHERNET=y

# Echo-server uses net-app
CONFIG_NET_APP_SERVER=y
CONFIG_NET_APP_NEED_IPV6=y
CONFIG_NET_APP_NEED_IPV4=y
CONFIG_NET_APP_SETTINGS=y

# First ethernet interface will use these settings
CONFIG_NET_APP_MY_IPV6_ADDR="2001:db8::1"
CONFIG_NET_APP_MY_IPV4_ADDR="192.0.2.1"
CONFIG_NET_APP_MY_IPV4_GW="192.0.2.2"

# 2nd ethernet interface will use these settings
CONFIG_SAMPLE_IPV6_ADDR_1="2001:db8:100::1"
# TEST-NET-2 from RFC 5737
CONFIG_SAMPLE_IPV4_ADDR_1="198.51.100.1"
CONFIG_SAMPLE_IPV4_GW_1="198.51.100.2"
# VLAN tag for the this interface
CONFIG_NET_VLAN_SAMPLE_TAG_1=100

# 3rd ethernet interface will use these settings
CONFIG_SAMPLE_IPV6_ADDR_2="2001:db8:200::1"
CONFIG_NET_VLAN_SAMPLE_TAG_2=200
# TEST-NET-3 from RFC 5737
CONFIG_SAMPLE_IPV4_ADDR_2="203.0.113.1"
CONFIG_SAMPLE_IPV4_GW_2="203.0.113.2"

# Debugging options
CONFIG_NET_DEBUG_NET_PKT=y
CONFIG_NET_DEBUG_L2_ETHERNET=n
CONFIG_NET_DEBUG_ARP=n
CONFIG_NET_DEBUG_IPV4=n
CONFIG_NET_DEBUG_IPV6=n
CONFIG_NET_DEBUG_CORE=n
CONFIG_NET_DEBUG_IF=n
CONFIG_NET_DEBUG_TEST_APP=n

# VLAN settings. Note that currently SLIP only supports one VLAN tag,
# and that is enforced by Kconfig file. This application will create
# three network interfaces, the first one without any VLAN tag and
# the other two with VLAN tags.
CONFIG_NET_VLAN=y
CONFIG_NET_VLAN_COUNT=3

# Full amount of traffic classes
CONFIG_NET_TC_COUNT=8

# Enable priority support in net_context
CONFIG_NET_CONTEXT_PRIORITY=y

# Driver specific options

# Use static link-layer address for SLIP, so that in host side
# the neighbor information do not need to be flushed.
CONFIG_SLIP_MAC_ADDR="00:00:5E:00:53:88"

# Static link-layer address for FRDM-K64F board
CONFIG_ETH_MCUX_0_RANDOM_MAC=n
CONFIG_ETH_MCUX_0_MAC3=0x00
CONFIG_ETH_MCUX_0_MAC3=0x53
CONFIG_ETH_MCUX_0_MAC3=0x88

# Native-posix ethernet settings
CONFIG_ETH_NATIVE_POSIX=y
CONFIG_SYS_LOG_ETHERNET_LEVEL=1
CONFIG_ETH_NATIVE_POSIX_RANDOM_MAC=n
CONFIG_ETH_NATIVE_POSIX_MAC_ADDR="00:00:5e:00:53:88"
CONFIG_ETH_NATIVE_POSIX_SETUP_SCRIPT="${ZEPHYR_BASE}/tests/net/automatic_testing/net_setup_host"
