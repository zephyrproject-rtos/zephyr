common:
  tags:
    - adc
    - drivers
  depends_on:
    - adc
  filter: dt_node_has_prop("/zephyr,user","io-channels")

tests:
  drivers.adc.accuracy.dac_source:
    depends_on:
      - dac
    extra_configs:
      - CONFIG_DAC_SOURCE_TEST=y
    # Test scenario is filtered if Kconfig dependencies are not satisfied
    filter: CONFIG_DAC_SOURCE_TEST
    harness_config:
      fixture: dac_adc_loopback
    platform_allow:
      - frdm_k64f
  drivers.adc.accuracy.ref_volt:
    extra_configs:
      - CONFIG_REFERENCE_VOLTAGE_TEST=y
    # Test scenario is filtered if Kconfig dependencies are not satisfied
    filter: CONFIG_REFERENCE_VOLTAGE_TEST
    harness_config:
      fixture: adc_ref_volt
    platform_allow:
      - frdm_kl25z
      - frdm_mcxc242
      - frdm_mcxc444
      - nrf52840dk/nrf52840
      - nrf54h20dk/nrf54h20/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - ophelia4ev/nrf54l15/cpuapp
      - sltb010a
      - xg23_rb4210a
      - xg24_dk2601b
      - xg24_rb4187c
      - xg27_dk2602a
      - xg29_rb4412a
      - bg29_rb4420a
      - slwrb4180a
      - ek_ra4c1
      - pic32cx_sg41_cult
      - pic32cx_sg61_cult
    extra_args:
      - platform:pic32cx_sg41_cult/pic32cx1025sg41128:"DTC_OVERLAY_FILE="boards/pic32cx_sg41_cult_ref.overlay"
      - platform:pic32cx_sg61_cult/pic32cx1025sg61128:"DTC_OVERLAY_FILE="boards/pic32cx_sg61_cult_ref.overlay"
    integration_platforms:
      - frdm_kl25z
      - nrf54l15dk/nrf54l15/cpuapp
