/*
 * Copyright (c) 2026 Microchip Technology Inc.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

/* We configure i2c_smb_0 to use HW port 0 pins
 * and i2c_smb_1 to use HW port 4 pins.
 * MEC I2C controllers have a HW mux allowing each controller to
 * access any of the port pin pairs.
 * For this test we need to connect both controllers together.
 * We set port-sel of both controllers to port 0 connecting the
 * the two controller to port 0 pins
 */
&i2c_smb_0 {
	compatible = "microchip,xec-i2c-v3";
	port-sel = <0>;
	sda-gpios = <MCHP_GPIO_DECODE_003 0>;
	scl-gpios = <MCHP_GPIO_DECODE_004 0>;
	pinctrl-0 = <&i2c00_sda_gpio003 &i2c00_scl_gpio004>;
	pinctrl-names = "default";
	status = "okay";

	eeprom0: eeprom@54 {
		compatible = "zephyr,i2c-target-eeprom";
		reg = <0x54>;
		address-width = <16>;
		size = <1024>;
	};
};

&i2c_smb_1 {
	compatible = "microchip,xec-i2c-v3";
	port-sel = <0>;
	sda-gpios = <MCHP_GPIO_DECODE_143 0>;
	scl-gpios = <MCHP_GPIO_DECODE_144 0>;
	pinctrl-0 = <&i2c04_sda_gpio143 &i2c04_scl_gpio144>;
	pinctrl-names = "default";
	status = "okay";

	eeprom1: eeprom@56 {
		compatible = "zephyr,i2c-target-eeprom";
		reg = <0x56>;
		address-width = <16>;
		size = <1024>;
	};
};

/* I2C Port 0 */
&i2c00_sda_gpio003 {
	drive-open-drain;
	output-enable;
	output-high;
	drive-strength = <1>;
};

&i2c00_scl_gpio004 {
	drive-open-drain;
	output-enable;
	output-high;
	drive-strength = <1>;
};

/* I2C Port 4 */
&i2c04_sda_gpio143 {
	drive-open-drain;
	output-enable;
	output-high;
	drive-strength = <1>;
};

&i2c04_scl_gpio144 {
	drive-open-drain;
	output-enable;
	output-high;
	drive-strength = <1>;
};
