# Copyright 2022 NXP
# SPDX-License-Identifier: Apache-2.0

tests:
  drivers.watchdog.reset_none:
    filter: |
      dt_compat_enabled("nxp,s32-swt")
      or dt_compat_enabled("renesas,ra-wdt")
      or dt_compat_enabled("silabs,gecko-wdog")
    integration_platforms:
      - s32z2xxdc2/s32z270/rtu0
    tags:
      - drivers
      - watchdog
    depends_on: watchdog
  drivers.watchdog.reset_none_ewm:
    filter: dt_compat_enabled("nxp,ewm")
    platform_allow:
      - frdm_mcxw71
      - frdm_mcxw72/mcxw727c/cpu0
      - mimxrt1180_evk/mimxrt1189/cm33
      - mimxrt1180_evk/mimxrt1189/cm7
      - frdm_mcxn947/mcxn947/cpu0
      - frdm_mcxn947/mcxn947/cpu1
    integration_platforms:
      - frdm_mcxw71
      - frdm_mcxw72/mcxw727c/cpu0
      - mimxrt1180_evk/mimxrt1189/cm33
      - mimxrt1180_evk/mimxrt1189/cm7
    extra_args:
      - EXTRA_CONF_FILE="app_ewm.conf"
      - EXTRA_DTC_OVERLAY_FILE="boards/app_ewm.overlay"
    extra_configs:
      - CONFIG_TEST_WDT_MAX_WINDOW_TIME=254
      - CONFIG_TEST_WDT_SLEEP_TIME=68
  drivers.watchdog.reset_none_ewm_no_wdog:
    filter: dt_compat_enabled("nxp,ewm")
    platform_allow:
      - frdm_ke15z
      - frdm_ke17z
      - frdm_mcxe247
    integration_platforms:
      - frdm_ke17z
      - frdm_mcxe247
    extra_args:
      - EXTRA_CONF_FILE="app_ewm.conf"
      - DTC_OVERLAY_FILE="boards/app_ewm_no_wdog.overlay"
    extra_configs:
      - CONFIG_TEST_WDT_MAX_WINDOW_TIME=254
      - CONFIG_TEST_WDT_SLEEP_TIME=68
  drivers.watchdog.reset_none_ewm_11xx:
    filter: dt_compat_enabled("nxp,ewm")
    platform_allow:
      - mimxrt1170_evk@A/mimxrt1176/cm7
      - mimxrt1170_evk@B/mimxrt1176/cm7
    integration_platforms:
      - mimxrt1170_evk@A/mimxrt1176/cm7
    extra_args:
      - EXTRA_CONF_FILE="app_ewm.conf"
      - DTC_OVERLAY_FILE="boards/nxp_rt11xx.overlay"
    extra_configs:
      - CONFIG_TEST_WDT_MAX_WINDOW_TIME=254
      - CONFIG_TEST_WDT_SLEEP_TIME=68
