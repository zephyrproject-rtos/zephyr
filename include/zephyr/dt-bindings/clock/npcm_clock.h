/*
 * Copyright (c) 2024 Nuvoton Technology Corporation.
 *
 * SPDX-License-Identifier: Apache-2.0
 */
#ifndef ZEPHYR_INCLUDE_DT_BINDINGS_CLOCK_NPCM_CLOCK_H_
#define ZEPHYR_INCLUDE_DT_BINDINGS_CLOCK_NPCM_CLOCK_H_

/* clock config column offset */
#define NPCM_CLOCK_PWDWN_BIT_OFFSET   0
#define NPCM_CLOCK_PWDWN_BIT_MASK     0x7
#define NPCM_CLOCK_PWDWN_GROUP_OFFSET 3
#define NPCM_CLOCK_PWDWN_GROUP_MASK   0xF
#define NPCM_CLOCK_PWDWN_VALID_OFFSET 7
#define NPCM_CLOCK_PWDWN_VALID_MASK   0x1
#define NPCM_CLOCK_BUS_OFFSET         8
#define NPCM_CLOCK_BUS_MASK           0x1F

/* clock on and off */
#define NPCM_CLOCK_PWDWN(N, M)                                                                     \
	((((N) & NPCM_CLOCK_PWDWN_GROUP_MASK) << NPCM_CLOCK_PWDWN_GROUP_OFFSET) +                  \
	 (((M) & NPCM_CLOCK_PWDWN_BIT_MASK) << NPCM_CLOCK_PWDWN_BIT_OFFSET))

/* clock config */
#define NPCM_CLOCK_CFG(bus, pwr_valid, pwr_indx, pwr_bit)                                          \
	((((bus) & NPCM_CLOCK_BUS_MASK) << NPCM_CLOCK_BUS_OFFSET) +                                \
	 (((pwr_valid) & NPCM_CLOCK_PWDWN_VALID_MASK) << NPCM_CLOCK_PWDWN_VALID_OFFSET) +          \
	 NPCM_CLOCK_PWDWN(pwr_indx, pwr_bit))

/* clock bus references */
#define NPCM_CLOCK_BUS_LFCLK     0
#define NPCM_CLOCK_BUS_OSC       1
#define NPCM_CLOCK_BUS_FIU       2
#define NPCM_CLOCK_BUS_I3C_TC    3
#define NPCM_CLOCK_BUS_CORE      4
#define NPCM_CLOCK_BUS_APB1      5
#define NPCM_CLOCK_BUS_APB2      6
#define NPCM_CLOCK_BUS_APB3      7
#define NPCM_CLOCK_BUS_AHB6      8
#define NPCM_CLOCK_BUS_FMCLK     9
#define NPCM_CLOCK_BUS_USB20_CLK 10
#define NPCM_CLOCK_BUS_SIO_CLK   11

#define NPCM_CLOCK_BUS_NONE NPCM_CLOCK_BUS_MASK

/* Default clock source selection */
#define NPCM_CLOCK_PWM_I   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 0, 0)
#define NPCM_CLOCK_PWM_J   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 0, 1)
#define NPCM_CLOCK_I3CI    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 0, 2)
#define NPCM_CLOCK_UART3   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 0, 5)
#define NPCM_CLOCK_UART2   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 0, 6)
#define NPCM_CLOCK_SPIM    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_CORE, 1, 1, 0)
#define NPCM_CLOCK_FIU     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_FIU, 1, 1, 2)
#define NPCM_CLOCK_USB20   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_USB20_CLK, 1, 1, 3)
#define NPCM_CLOCK_UART    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 1, 4)
#define NPCM_CLOCK_MFT1    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB1, 1, 1, 5)
#define NPCM_CLOCK_MFT2    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB1, 1, 1, 6)
#define NPCM_CLOCK_MFT3    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB1, 1, 1, 7)
#define NPCM_CLOCK_PWM_A   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 2, 0)
#define NPCM_CLOCK_PWM_B   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 2, 1)
#define NPCM_CLOCK_PWM_C   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 2, 2)
#define NPCM_CLOCK_PWM_D   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 2, 3)
#define NPCM_CLOCK_PWM_E   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 2, 4)
#define NPCM_CLOCK_PWM_F   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 2, 5)
#define NPCM_CLOCK_PWM_G   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 2, 6)
#define NPCM_CLOCK_PWM_H   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 2, 7)
#define NPCM_CLOCK_SMB1    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 3, 0)
#define NPCM_CLOCK_SMB2    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 3, 1)
#define NPCM_CLOCK_SMB3    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 3, 2)
#define NPCM_CLOCK_SMB4    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 3, 3)
#define NPCM_CLOCK_SMB5    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 3, 4)
#define NPCM_CLOCK_SMB6    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 3, 5)
#define NPCM_CLOCK_GDMA    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_CORE, 1, 3, 7)
#define NPCM_CLOCK_ITIM1   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 4, 0)
#define NPCM_CLOCK_ITIM2   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 4, 1)
#define NPCM_CLOCK_ITIM3   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 4, 2)
#define NPCM_CLOCK_SMB_DMA NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_NONE, 1, 4, 3)
#define NPCM_CLOCK_ADC     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB1, 1, 4, 4)
#define NPCM_CLOCK_PECI    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_FMCLK, 1, 4, 5)
#define NPCM_CLOCK_SPIP1   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_OSC, 1, 4, 7)
#define NPCM_CLOCK_UART4   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 5, 0)
#define NPCM_CLOCK_C2HACC  NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 5, 3)
#define NPCM_CLOCK_SHM_REG NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_NONE, 1, 5, 4)
#define NPCM_CLOCK_SHM     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_NONE, 1, 5, 5)
#define NPCM_CLOCK_DP80    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 5, 6)
#define NPCM_CLOCK_MSWC    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB1, 1, 5, 7)
#define NPCM_CLOCK_ITIM4   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 6, 0)
#define NPCM_CLOCK_ITIM5   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 6, 1)
#define NPCM_CLOCK_ITIM6   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB2, 1, 6, 2)
#define NPCM_CLOCK_RNG     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB1, 1, 6, 3)
#define NPCM_CLOCK_SHA     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_NONE, 1, 6, 5)
#define NPCM_CLOCK_ESPI    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 6, 7)
#define NPCM_CLOCK_SMB7    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 7, 0)
#define NPCM_CLOCK_SMB8    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 7, 1)
#define NPCM_CLOCK_SMB9    NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 7, 2)
#define NPCM_CLOCK_SMB10   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 7, 3)
#define NPCM_CLOCK_SMB11   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 7, 4)
#define NPCM_CLOCK_SMB12   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 7, 5)
#define NPCM_CLOCK_SIOX2   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_NONE, 1, 7 ,6)
#define NPCM_CLOCK_SIOX1   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_NONE, 1, 7 ,7)
#define NPCM_CLOCK_I3CI2   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 8, 0)
#define NPCM_CLOCK_I3CI3   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 8, 1)
#define NPCM_CLOCK_I3CI4   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 8, 2)
#define NPCM_CLOCK_I3CI5   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 8, 3)
#define NPCM_CLOCK_I3CI6   NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 8, 4)

/* Second clock source selection */
#define NPCM_CLOCK_MFT1_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 1, 5)
#define NPCM_CLOCK_MFT2_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 1, 6)
#define NPCM_CLOCK_MFT3_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 1, 7)
#define NPCM_CLOCK_ITIM1_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 4, 0)
#define NPCM_CLOCK_ITIM2_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 4, 1)
#define NPCM_CLOCK_ITIM3_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 4, 2)
#define NPCM_CLOCK_ITIM4_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 6, 0)
#define NPCM_CLOCK_ITIM5_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 6, 1)
#define NPCM_CLOCK_ITIM6_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 6, 2)
#define NPCM_CLOCK_PWM_A_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 2, 0)
#define NPCM_CLOCK_PWM_B_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 2, 1)
#define NPCM_CLOCK_PWM_C_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 2, 2)
#define NPCM_CLOCK_PWM_D_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 2, 3)
#define NPCM_CLOCK_PWM_E_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 2, 4)
#define NPCM_CLOCK_PWM_F_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 2, 5)
#define NPCM_CLOCK_PWM_G_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 2, 6)
#define NPCM_CLOCK_PWM_H_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 2, 7)
#define NPCM_CLOCK_PWM_I_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 0, 0)
#define NPCM_CLOCK_PWM_J_LF NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 1, 0, 1)

/* Un-support clock on and off */
#define NPCM_CLOCK_EMAC     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_CORE, 0, 0, 0)
#define NPCM_CLOCK_TWD      NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_LFCLK, 0, 0, 0)
#define NPCM_CLOCK_PDMA     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_CORE, 0, 0, 0)

#define NPCM_CLOCK_HOSTSUB1     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 5, 3)
#define NPCM_CLOCK_HOSTSUB2     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 5, 4)
#define NPCM_CLOCK_HOSTSUB3     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 5, 5)
#define NPCM_CLOCK_HOSTSUB4     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 5, 6)
#define NPCM_CLOCK_HOSTSUB5     NPCM_CLOCK_CFG(NPCM_CLOCK_BUS_APB3, 1, 5, 7)

#endif /* ZEPHYR_INCLUDE_DT_BINDINGS_CLOCK_NPCM_CLOCK_H_ */
