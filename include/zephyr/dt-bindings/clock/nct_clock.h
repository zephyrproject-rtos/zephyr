/*
 * Copyright (c) 2025 Nuvoton Technology Corporation.
 *
 * SPDX-License-Identifier: Apache-2.0
 */
#ifndef ZEPHYR_INCLUDE_DT_BINDINGS_CLOCK_NCT_CLOCK_H_
#define ZEPHYR_INCLUDE_DT_BINDINGS_CLOCK_NCT_CLOCK_H_

/* clock config column offset */
#define NCT_CLOCK_PWDWN_BIT_OFFSET   0
#define NCT_CLOCK_PWDWN_BIT_MASK     0x7
#define NCT_CLOCK_PWDWN_GROUP_OFFSET 3
#define NCT_CLOCK_PWDWN_GROUP_MASK   0xF
#define NCT_CLOCK_PWDWN_VALID_OFFSET 7
#define NCT_CLOCK_PWDWN_VALID_MASK   0x1
#define NCT_CLOCK_BUS_OFFSET         8
#define NCT_CLOCK_BUS_MASK           0x1F

/* clock on and off */
#define NCT_CLOCK_PWDWN(N, M)                                                                     \
	((((N) & NCT_CLOCK_PWDWN_GROUP_MASK) << NCT_CLOCK_PWDWN_GROUP_OFFSET) +                  \
	 (((M) & NCT_CLOCK_PWDWN_BIT_MASK) << NCT_CLOCK_PWDWN_BIT_OFFSET))

/* clock config */
#define NCT_CLOCK_CFG(bus, pwr_valid, pwr_indx, pwr_bit)                                          \
	((((bus) & NCT_CLOCK_BUS_MASK) << NCT_CLOCK_BUS_OFFSET) +                                \
	 (((pwr_valid) & NCT_CLOCK_PWDWN_VALID_MASK) << NCT_CLOCK_PWDWN_VALID_OFFSET) +          \
	 NCT_CLOCK_PWDWN(pwr_indx, pwr_bit))

/* clock bus references */
#define NCT_CLOCK_BUS_LFCLK     0
#define NCT_CLOCK_BUS_OSC       1
#define NCT_CLOCK_BUS_FIU       2
#define NCT_CLOCK_BUS_I3C_TC    3
#define NCT_CLOCK_BUS_CORE      4
#define NCT_CLOCK_BUS_APB1      5
#define NCT_CLOCK_BUS_APB2      6
#define NCT_CLOCK_BUS_APB3      7
#define NCT_CLOCK_BUS_AHB6      8
#define NCT_CLOCK_BUS_FMCLK     9
#define NCT_CLOCK_BUS_USB20_CLK 10
#define NCT_CLOCK_BUS_SIO_CLK   11

#define NCT_CLOCK_BUS_NONE NCT_CLOCK_BUS_MASK

/* Default clock source selection */
#define NCT_CLOCK_PWM_I   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 0, 0)
#define NCT_CLOCK_PWM_J   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 0, 1)
#define NCT_CLOCK_I3CI    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 0, 2)
#define NCT_CLOCK_UART3   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 0, 5)
#define NCT_CLOCK_UART2   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 0, 6)
#define NCT_CLOCK_SPIM    NCT_CLOCK_CFG(NCT_CLOCK_BUS_CORE, 1, 1, 0)
#define NCT_CLOCK_FIU     NCT_CLOCK_CFG(NCT_CLOCK_BUS_FIU, 1, 1, 2)
#define NCT_CLOCK_USB20   NCT_CLOCK_CFG(NCT_CLOCK_BUS_USB20_CLK, 1, 1, 3)
#define NCT_CLOCK_UART    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 1, 4)
#define NCT_CLOCK_MFT1    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB1, 1, 1, 5)
#define NCT_CLOCK_MFT2    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB1, 1, 1, 6)
#define NCT_CLOCK_MFT3    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB1, 1, 1, 7)
#define NCT_CLOCK_PWM_A   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 2, 0)
#define NCT_CLOCK_PWM_B   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 2, 1)
#define NCT_CLOCK_PWM_C   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 2, 2)
#define NCT_CLOCK_PWM_D   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 2, 3)
#define NCT_CLOCK_PWM_E   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 2, 4)
#define NCT_CLOCK_PWM_F   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 2, 5)
#define NCT_CLOCK_PWM_G   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 2, 6)
#define NCT_CLOCK_PWM_H   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 2, 7)
#define NCT_CLOCK_SMB1    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 3, 0)
#define NCT_CLOCK_SMB2    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 3, 1)
#define NCT_CLOCK_SMB3    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 3, 2)
#define NCT_CLOCK_SMB4    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 3, 3)
#define NCT_CLOCK_SMB5    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 3, 4)
#define NCT_CLOCK_SMB6    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 3, 5)
#define NCT_CLOCK_GDMA    NCT_CLOCK_CFG(NCT_CLOCK_BUS_CORE, 1, 3, 7)
#define NCT_CLOCK_ITIM1   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 4, 0)
#define NCT_CLOCK_ITIM2   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 4, 1)
#define NCT_CLOCK_ITIM3   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 4, 2)
#define NCT_CLOCK_SMB_DMA NCT_CLOCK_CFG(NCT_CLOCK_BUS_NONE, 1, 4, 3)
#define NCT_CLOCK_ADC     NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB1, 1, 4, 4)
#define NCT_CLOCK_PECI    NCT_CLOCK_CFG(NCT_CLOCK_BUS_FMCLK, 1, 4, 5)
#define NCT_CLOCK_SPIP1   NCT_CLOCK_CFG(NCT_CLOCK_BUS_OSC, 1, 4, 7)
#define NCT_CLOCK_UART4   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 5, 0)
#define NCT_CLOCK_C2HACC  NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 5, 3)
#define NCT_CLOCK_SHM_REG NCT_CLOCK_CFG(NCT_CLOCK_BUS_NONE, 1, 5, 4)
#define NCT_CLOCK_SHM     NCT_CLOCK_CFG(NCT_CLOCK_BUS_NONE, 1, 5, 5)
#define NCT_CLOCK_DP80    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 5, 6)
#define NCT_CLOCK_MSWC    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB1, 1, 5, 7)
#define NCT_CLOCK_ITIM4   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 6, 0)
#define NCT_CLOCK_ITIM5   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 6, 1)
#define NCT_CLOCK_ITIM6   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB2, 1, 6, 2)
#define NCT_CLOCK_RNG     NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB1, 1, 6, 3)
#define NCT_CLOCK_SHA     NCT_CLOCK_CFG(NCT_CLOCK_BUS_NONE, 1, 6, 5)
#define NCT_CLOCK_ESPI    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 6, 7)
#define NCT_CLOCK_SMB7    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 7, 0)
#define NCT_CLOCK_SMB8    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 7, 1)
#define NCT_CLOCK_SMB9    NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 7, 2)
#define NCT_CLOCK_SMB10   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 7, 3)
#define NCT_CLOCK_SMB11   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 7, 4)
#define NCT_CLOCK_SMB12   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 7, 5)
#define NCT_CLOCK_SIOX2   NCT_CLOCK_CFG(NCT_CLOCK_BUS_NONE, 1, 7 ,6)
#define NCT_CLOCK_SIOX1   NCT_CLOCK_CFG(NCT_CLOCK_BUS_NONE, 1, 7 ,7)
#define NCT_CLOCK_I3CI2   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 8, 0)
#define NCT_CLOCK_I3CI3   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 8, 1)
#define NCT_CLOCK_I3CI4   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 8, 2)
#define NCT_CLOCK_I3CI5   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 8, 3)
#define NCT_CLOCK_I3CI6   NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 8, 4)

/* Second clock source selection */
#define NCT_CLOCK_MFT1_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 1, 5)
#define NCT_CLOCK_MFT2_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 1, 6)
#define NCT_CLOCK_MFT3_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 1, 7)
#define NCT_CLOCK_ITIM1_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 4, 0)
#define NCT_CLOCK_ITIM2_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 4, 1)
#define NCT_CLOCK_ITIM3_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 4, 2)
#define NCT_CLOCK_ITIM4_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 6, 0)
#define NCT_CLOCK_ITIM5_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 6, 1)
#define NCT_CLOCK_ITIM6_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 6, 2)
#define NCT_CLOCK_PWM_A_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 2, 0)
#define NCT_CLOCK_PWM_B_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 2, 1)
#define NCT_CLOCK_PWM_C_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 2, 2)
#define NCT_CLOCK_PWM_D_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 2, 3)
#define NCT_CLOCK_PWM_E_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 2, 4)
#define NCT_CLOCK_PWM_F_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 2, 5)
#define NCT_CLOCK_PWM_G_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 2, 6)
#define NCT_CLOCK_PWM_H_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 2, 7)
#define NCT_CLOCK_PWM_I_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 0, 0)
#define NCT_CLOCK_PWM_J_LF NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 1, 0, 1)

/* Un-support clock on and off */
#define NCT_CLOCK_EMAC     NCT_CLOCK_CFG(NCT_CLOCK_BUS_CORE, 0, 0, 0)
#define NCT_CLOCK_TWD      NCT_CLOCK_CFG(NCT_CLOCK_BUS_LFCLK, 0, 0, 0)
#define NCT_CLOCK_PDMA     NCT_CLOCK_CFG(NCT_CLOCK_BUS_CORE, 0, 0, 0)

#define NCT_CLOCK_HOSTSUB1     NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 5, 3)
#define NCT_CLOCK_HOSTSUB2     NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 5, 4)
#define NCT_CLOCK_HOSTSUB3     NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 5, 5)
#define NCT_CLOCK_HOSTSUB4     NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 5, 6)
#define NCT_CLOCK_HOSTSUB5     NCT_CLOCK_CFG(NCT_CLOCK_BUS_APB3, 1, 5, 7)

#endif /* ZEPHYR_INCLUDE_DT_BINDINGS_CLOCK_NCT_CLOCK_H_ */
