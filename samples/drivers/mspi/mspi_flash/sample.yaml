sample:
  name: MSPI Flash Sample
tests:
  sample.drivers.mspi.flash:
    tags:
      - mspi
      - flash
    filter: dt_compat_enabled("jedec,spi-nor") or dt_compat_enabled("mspi-atxp032")
    platform_exclude: hifive_unmatched
    harness: console
    harness_config:
      type: multi_line
      ordered: true
      regex:
        - "Test 1: Flash erase"
        - "Flash erase succeeded!"
        - "Test 2: Flash write"
        - "Attempting to write 4 bytes"
        - "Data read matches data written. Good!!"
    depends_on: mspi
