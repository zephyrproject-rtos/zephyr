# Sierra Wireless HL78XX Sample configuration

# Copyright (c) 2025 Netfeasa Ltd.
# SPDX-License-Identifier: Apache-2.0

# The HL78xx driver gets its IP settings from the cell network

#system
CONFIG_HEAP_MEM_POOL_SIZE=4096
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096
CONFIG_POSIX_API=y

#PM
# CONFIG_PM_DEVICE=y

#uart
CONFIG_UART_ASYNC_API=y

# Generic networking options
CONFIG_NETWORKING=y
CONFIG_NET_UDP=y
CONFIG_NET_TCP=y
CONFIG_NET_IPV6=n
CONFIG_NET_IPV4=y
CONFIG_NET_SOCKETS=y

# DNS
CONFIG_DNS_RESOLVER=y
CONFIG_NET_SOCKETS_DNS_TIMEOUT=12000

# Wait for the network to be ready
CONFIG_NET_SAMPLE_COMMON_WAIT_DNS_SERVER_ADDITION=y

# Network management
CONFIG_NET_MGMT=y
CONFIG_NET_MGMT_EVENT=y
# NB-IoT has large latency, so increase timeouts. It is ok to use this for Cat-M1 as well.
CONFIG_NET_SOCKETS_CONNECT_TIMEOUT=15000
CONFIG_NET_CONNECTION_MANAGER=y

# Network buffers
CONFIG_NET_PKT_RX_COUNT=32
CONFIG_NET_PKT_TX_COUNT=16
CONFIG_NET_BUF_RX_COUNT=64
CONFIG_NET_BUF_TX_COUNT=32

# Modem driver
CONFIG_MODEM=y

#hl78xx modem
CONFIG_MODEM_HL78XX=y

# Statistics
CONFIG_MODEM_STATS=y
CONFIG_SHELL=y

#apn source
# CONFIG_MODEM_HL78XX_APN_SOURCE_KCONFIG=y
# CONFIG_MODEM_HL78XX_APN="internet"
# CONFIG_MODEM_HL78XX_APN_SOURCE_ICCID=y
# CONFIG_MODEM_HL78XX_APN_PROFILES="hologram=23450, wm=20601, vodafone=8988239, em=8988303"

# RAT selection
CONFIG_MODEM_HL78XX_AUTORAT=n
# CONFIG_MODEM_HL78XX_AUTORAT_PRL_PROFILES="2,1,3"
# CONFIG_MODEM_HL78XX_AUTORAT_NB_BAND_CFG="3,8,20,28"
# CONFIG_MODEM_HL78XX_RAT_NB1=y

# Stay in boot mode until registered to a network
# CONFIG_MODEM_HL78XX_STAY_IN_BOOT_MODE_FOR_ROAMING=y

#  Monitor modem events
CONFIG_HL78XX_EVT_MONITOR=y
# Logging
CONFIG_LOG=y
