# Sierra Wireless HL78XX driver options

# Copyright (c) 2025 Netfeasa Ltd.
# SPDX-License-Identifier: Apache-2.0

# The HL78xx driver gets its IP settings from the cell network
CONFIG_NET_CONFIG_SETTINGS=n
CONFIG_NET_DHCPV4=n
CONFIG_DNS_SERVER_IP_ADDRESSES=n

#PM
# CONFIG_PM_DEVICE=y

#uart
CONFIG_UART_ASYNC_API=y

# Generic networking options
CONFIG_NET_IPV6=n

# DNS
CONFIG_DNS_RESOLVER=y
CONFIG_NET_SOCKETS_DNS_TIMEOUT=15000

# POSIX API
CONFIG_POSIX_AEP_CHOICE_PSE53=y
CONFIG_REQUIRES_FULL_LIBC=y

# Wait for the network to be ready
CONFIG_NET_SAMPLE_LWM2M_WAIT_DNS=y

# Network management
CONFIG_NET_MGMT=y
CONFIG_NET_MGMT_EVENT=y
CONFIG_NET_CONNECTION_MANAGER=y

# NB-IoT has large latency, so increase timeouts. It is ok to use this for Cat-M1 as well.
CONFIG_NET_SOCKETS_CONNECT_TIMEOUT=15000

# Network buffers
CONFIG_NET_PKT_RX_COUNT=32
CONFIG_NET_PKT_TX_COUNT=16
CONFIG_NET_BUF_RX_COUNT=64
CONFIG_NET_BUF_TX_COUNT=32

# Modem driver
CONFIG_MODEM=y

#hl78xx modem
CONFIG_MODEM_HL78XX=y

# Statistics
CONFIG_MODEM_STATS=y
CONFIG_SHELL=y
# Don't require device to have time/date
CONFIG_MBEDTLS_HAVE_TIME_DATE=n

#apn source
# CONFIG_MODEM_HL78XX_APN_SOURCE_KCONFIG=y
# CONFIG_MODEM_HL78XX_APN="internet"

# RAT selection
CONFIG_MODEM_HL78XX_AUTORAT=n
# CONFIG_MODEM_HL78XX_RAT_NB1=y

#  Monitor modem events
CONFIG_HL78XX_EVT_MONITOR=y

# Logging
CONFIG_LOG_BUFFER_SIZE=65535
# For extra verbosity
CONFIG_MODEM_MODULES_LOG_LEVEL_DBG=y
CONFIG_MODEM_LOG_LEVEL_DBG=y
CONFIG_MODEM_CHAT_LOG_BUFFER_SIZE=1024
CONFIG_MODEM_HL78XX_LOG_CONTEXT_VERBOSE_DEBUG=y
