# Networking - using IPv6 with TCP
CONFIG_NETWORKING=y
CONFIG_NET_DRIVERS=y
CONFIG_NET_IPV6=y
CONFIG_NET_TCP=y
CONFIG_NET_SOCKETS=y
CONFIG_NET_NATIVE=y

# Needed for SO_BINDTODEVICE name resolution via net_if_get_by_name()
CONFIG_NET_INTERFACE_NAME=y
CONFIG_NET_INTERFACE_NAME_LEN=8

# Point-to-point link configuration with routing
CONFIG_NET_ROUTING=y
# Disable auto-configuration to avoid multicast on point-to-point SLIP links
CONFIG_NET_IPV6_ND=n
CONFIG_NET_IPV6_DAD=n
CONFIG_NET_IPV6_MLD=n

# Disable IP check to force packets through physical UART layer
CONFIG_NET_IP_ADDR_CHECK=n
CONFIG_NET_MAX_ROUTES=8
CONFIG_NET_ROUTE_MCAST=n

# SLIP UART Async driver
CONFIG_COBS_UART_ASYNC=y
CONFIG_NET_L2_COBS_SERIAL=y
CONFIG_COBS=y
CONFIG_NET_L2_COBS_SERIAL_RX_MARK_LOOPBACK=y

# High-throughput tuning (1Mbaud, no HW flow control)
CONFIG_COBS_UART_ASYNC_RINGBUF_SIZE=4096
CONFIG_COBS_UART_ASYNC_RX_BUF_LEN=256
CONFIG_COBS_UART_ASYNC_RX_PRIORITY=3
CONFIG_COBS_UART_ASYNC_RX_TIMEOUT_US=100

# UART
CONFIG_UART_ASYNC_API=y
CONFIG_SERIAL=y
CONFIG_NRFX_UARTE=y

# Buffer configuration for TCP streams
CONFIG_NET_BUF_DATA_SIZE=2048
CONFIG_NET_PKT_RX_COUNT=32
CONFIG_NET_PKT_TX_COUNT=32
CONFIG_NET_BUF_RX_COUNT=64
CONFIG_NET_BUF_TX_COUNT=64

# TCP configuration for better throughput
CONFIG_NET_TCP_MAX_SEND_WINDOW_SIZE=4096
CONFIG_NET_TCP_MAX_RECV_WINDOW_SIZE=4096

# Increase interface count for multiple SLIP interfaces
CONFIG_NET_MAX_CONTEXTS=10
CONFIG_NET_IF_MAX_IPV6_COUNT=8
CONFIG_NET_MAX_CONN=10
CONFIG_NET_MAX_ROUTES=8
CONFIG_NET_IPV6_MAX_NEIGHBORS=8

# Logging - minimal, INFO level
CONFIG_LOG=y
CONFIG_NET_LOG=n
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_COBS_UART_ASYNC_LOG_LEVEL_INF=y

# Socket timeout support
CONFIG_NET_CONTEXT_RCVTIMEO=y
CONFIG_NET_CONTEXT_SNDTIMEO=y

# Shell for commands
CONFIG_SHELL=y
CONFIG_NET_SHELL=y

# Stack configuration
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_THREAD_STACK_INFO=y
CONFIG_THREAD_NAME=y

# Kernel - high resolution timing for low latency
CONFIG_TICKLESS_KERNEL=y
CONFIG_SYS_CLOCK_TICKS_PER_SEC=10000
CONFIG_HEAP_MEM_POOL_SIZE=32768

# Random number generator (required by networking stack)
CONFIG_ENTROPY_GENERATOR=y
CONFIG_TEST_RANDOM_GENERATOR=y

