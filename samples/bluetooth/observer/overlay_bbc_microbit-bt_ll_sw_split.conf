# Adjust Stack Sizes for reduce RAM usage
CONFIG_MAIN_STACK_SIZE=1024
CONFIG_IDLE_STACK_SIZE=128
CONFIG_ISR_STACK_SIZE=1024
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=1024

# Enable Extended Scanning
# CONFIG_BT_EXT_ADV=y

# Set maximum scan data length for Extended Scanning
CONFIG_BT_EXT_SCAN_BUF_SIZE=192

# Zephyr Bluetooth LE Controller needs 16 event buffers to generate Extended
# Advertising Report for receiving the complete 1650 bytes of data.
# Use 4 to be able to receive a minimal extended advertising with chains.
CONFIG_BT_BUF_EVT_RX_COUNT=4

# Use Zephyr Bluetooth Low Energy Controller implementation
CONFIG_BT_LL_SW_SPLIT=y

# Set maximum scan data length for Extended Scanning in Bluetooth LE Controller.
CONFIG_BT_CTLR_SCAN_DATA_LEN_MAX=192

# Increase Zephyr Bluetooth LE Controller Rx buffer to receive complete chain
# of PDUs. Need 9 for maximum of 1650 bytes, but we use 3 as minimum to receive
# at least a primary PDU, an auxiliary PDU and a chain PDU.
CONFIG_BT_CTLR_RX_BUFFERS=3

# Enable advanced features
CONFIG_BT_CTLR_ADVANCED_FEATURES=y

# Adjust execution context priorities to achieve lower Radio ISR latencies
CONFIG_BT_CTLR_LLL_PRIO=0
CONFIG_BT_CTLR_ULL_HIGH_PRIO=1
CONFIG_BT_CTLR_ULL_LOW_PRIO=1

# Use just-in-time collision resolution in ticker and LLL pipeline
CONFIG_BT_CTLR_LOW_LAT=n
CONFIG_BT_CTLR_LOW_LAT_ULL_DONE=n
CONFIG_BT_TICKER_LOW_LAT=n

# Increase the below to receive interleaved advertising chains
CONFIG_BT_CTLR_SCAN_AUX_SET=3
CONFIG_BT_CTLR_LOW_LAT_ULL=y
# CONFIG_BT_CTLR_SCAN_AUX_USE_CHAINS=y
# CONFIG_BT_CTLR_SCAN_AUX_CHAIN_COUNT=3

# Use unreserved timespace scanning
CONFIG_BT_CTLR_SCAN_UNRESERVED=y

# Code size reduction
CONFIG_ISR_TABLES_LOCAL_DECLARATION=y
CONFIG_LTO=y
