sample:
  description: This app provides an example of how to integrate OpenAMP with DSP.
  name: OpenAMP DSP example integration
tests:
  samples.boards.nxp.adsp.rtxxx.amp_talk:
    filter: dt_chosen_enabled("zephyr,ipc") and dt_chosen_enabled("zephyr,ipc_shm")
      and not (CONFIG_SOC_ESP32_APPCPU or CONFIG_SOC_ESP32S3_APPCPU)
    integration_platforms:
      - mimxrt700_evk/mimxrt798s/hifi4
    tags:
      - ipm
      - openamp
    harness: console
    sysbuild: true
    harness_config:
      type: multi_line
      regex:
        - "Master core received a message: 1"
        - "Master core received a message: 99"
        - "OpenAMP demo ended."
        - "[DSP] Remote core received a message: 0"
        - "[DSP] Remote core received a message: 98"
        - "[DSP] OpenAMP demo ended."
