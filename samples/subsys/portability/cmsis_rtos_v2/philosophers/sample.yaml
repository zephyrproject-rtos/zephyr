sample:
  name: CMSIS_RTOS_V2 Dining Philosophers
common:
  integration_platforms:
    - native_sim
  extra_args: DEBUG_PRINTF=1
  tags: cmsis_rtos
  min_ram: 32
  min_flash: 34
  platform_exclude:
    - qemu_xtensa
    - qemu_x86_64
  harness: console
  harness_config:
    type: multi_line
    ordered: false
    regex:
      - ".*STARVING.*"
      - ".*DROPPED ONE FORK.*"
      - ".*THINKING.*"
      - ".*EATING.*"
tests:
  sample.portability.cmsis_rtos_v2.philosopher:
    tags: cmsis_rtos
  sample.portability.cmsis_rtos_v2.philosopher.same_prio:
    extra_args: SAME_PRIO=1
  sample.portability.cmsis_rtos_v2.philosopher.semaphores:
    extra_args: FORKS=SEMAPHORES
