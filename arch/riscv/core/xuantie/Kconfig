# Copyright (c) 2025 MASSDRIVER EI (massdriver.space)
# SPDX-License-Identifier: Apache-2.0

config XUANTIE_E907
	bool
	select XUANTIE
	select GEN_IRQ_VECTOR_TABLE
	select INCLUDE_RESET_VECTOR
	select RISCV_HAS_CLIC
	select RISCV_MACHINE_TIMER
	select RISCV_PRIVILEGED
	select RISCV_ISA_RV32I
	select RISCV_ISA_EXT_M
	select RISCV_ISA_EXT_A
	select RISCV_ISA_EXT_C
	select RISCV_ISA_EXT_ZICSR
	select RISCV_ISA_EXT_ZIFENCEI
	select RISCV_VECTORED_MODE

if XUANTIE

config CACHE_XTHEADCMO
	bool
	default y
	select CACHE_MANAGEMENT
	select CPU_HAS_ICACHE
	help
	  This option enables cache support for XuanTie family of CPUs using the XTHeadCmo extension

if CACHE_XTHEADCMO

config DCACHE_LINE_SIZE
	default 32

config ICACHE_LINE_SIZE
	default 32

config CACHE_XTHEADCMO_E907
	bool
	default y
	depends on XUANTIE_E907
	select CPU_HAS_DCACHE
	help
	  This option enables the additional XTHeadCmo cache functions for the E907 cores

endif # CACHE_XTHEADCMO

endif # XUANTIE
