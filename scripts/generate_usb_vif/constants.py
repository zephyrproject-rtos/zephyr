#!/usr/bin/env python3

# Copyright (c) 2022 The Chromium OS Authors
# SPDX-License-Identifier: Apache-2.0

"""This file contains all constants defined to be used by all other scripts
in this folder i.e, generate_usb_vif"""

XML_ENCODING = "utf-8"
XML_ELEMENT_NAME_PREFIX = "vif"
XML_ROOT_ELEMENT_NAME = "VIF"
XML_NAMESPACE_ATTRIBUTES = {
    "xmlns:vif": "http://usb.org/VendorInfoFile.xsd",
}

# DT node/property names
USB_C_CONNECTOR = "usb-c-connector"
VIF_PRODUCT_TYPE = "vif-product-type"
CERTIFICATION_TYPE = "certification-type"
COMPONENT = "component"
SINK_PDOS = "sink-pdos"
FR_SWAP_REQD_TYPE_C_CURRENT_AS_INITIAL_SOURCE = "fr-swap-reqd-type-c-current-as-initial-source"

# VIF member names
SINK_PDO = "SnkPDO"
SINK_PDO_SUPPLY_TYPE = "Snk_PDO_Supply_Type"
SINK_PDO_VOLTAGE = "Snk_PDO_Voltage"
SINK_PDO_OP_CURRENT = "Snk_PDO_Op_Current"
SINK_PDO_OP_POWER = "Snk_PDO_Op_Power"
SINK_PDO_MIN_VOLTAGE = "Snk_PDO_Min_Voltage"
SINK_PDO_MAX_VOLTAGE = "Snk_PDO_Max_Voltage"
PD_POWER_AS_SINK = "PD_Power_As_Sink"

# Other Constants
NAME = "name"
VALUE = "value"
TEXT = "text"
ATTRIBUTES = "attributes"
CHILD = "child"
TRUE = "true"
FALSE = "false"

VIF_SPEC_ELEMENTS = {
    "VIF_Specification": {
        TEXT: "3.19",
    },
    "VIF_App": {
        CHILD: {
            "Description": {
                TEXT: "This VIF XML file is generated by the Zephyr GenVIF script",
            }
        }
    },
}

VIF_ELEMENTS = ["VIF_Specification", "VIF_App", "Description", SINK_PDO,
                SINK_PDO_SUPPLY_TYPE, SINK_PDO_VOLTAGE, SINK_PDO_OP_CURRENT,
                SINK_PDO_MIN_VOLTAGE, SINK_PDO_MAX_VOLTAGE, SINK_PDO_OP_POWER,
                PD_POWER_AS_SINK, ]

DT_VIF_ELEMENTS = {
    SINK_PDOS: "SnkPdoList",
    "vif-specification": "VIF_Specification",
    "vendor-name": "Vendor_Name",
    "model-part-number": "Model_Part_Number",
    "product-revision": "Product_Revision",
    "tid": "TID",
    VIF_PRODUCT_TYPE: "VIF_Product_Type",
    CERTIFICATION_TYPE: "Certification_Type",
    COMPONENT: "Component",
    "epr-supported-as-snk": "EPR_Supported_As_Snk",
    "no-usb-suspend-may-be-set": "No_USB_Suspend_May_Be_Set",
    "giveback-may-be-set": "GiveBack_May_Be_Set",
    "higher-capability-set": "Higher_Capability_Set",
    "fr-swap-reqd-type-c-current-as-initial-source": "FR_Swap_Reqd_Type_C_Current_As_Initial_Source",
    "num-snk-pdos": "Num_Snk_PDOs",
    "dr-swap-to-dfp-supported": "DR_Swap_To_DFP_Supported",
    "dr-swap-to-ufp-supported": "DR_Swap_To_UFP_Supported",
    "vconn-swap-to-on-supported": "VCONN_Swap_To_On_Supported",
    "vconn-swap-to-off-supported": "VCONN_Swap_To_Off_Supported",
    "accepts-pr-swap-as-src": "Accepts_PR_Swap_As_Src",
    "accepts-pr-swap-as-snk": "Accepts_PR_Swap_As_Snk",
    "requests-pr-swap-as-src": "Requests_PR_Swap_As_Src",
    "requests-pr-swap-as-snk": "Requests_PR_Swap_As_Snk",
}

VIF_PRODUCT_TYPE_DICT = {
    0: "Port Product",
    1: "Cable",
    2: "Repeater",
}

CERTIFICATION_TYPE_DICT = {
    0: "End Product",
    1: "Reference Platform",
    2: "Silicon",
}

FR_SWAP_REQD_TYPE_C_CURRENT_AS_INITIAL_SOURCE_DICT = {
    0: "FR_Swap not supported",
    1: "Default USB Power",
    2: "1.5A @ 5V",
    3: "3A @ 5V",
}

# PDO
PDO_TYPE_FIXED = 0
PDO_TYPE_BATTERY = 1
PDO_TYPE_VARIABLE = 2
PDO_TYPE_AUGUMENTED = 3

PDO_TYPES = {
    PDO_TYPE_FIXED: "Fixed",
    PDO_TYPE_BATTERY: "Battery",
    PDO_TYPE_VARIABLE: "Variable",
    PDO_TYPE_AUGUMENTED: "Augmented",
}
